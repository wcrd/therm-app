<<<<<<< HEAD
<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/readOnlyError.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/css/app.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/app.js","webpack:///./src/css/app.css?7c0e","webpack:///./src/js/Construction.js","webpack:///./src/js/Helpers.js","webpack:///./src/js/Storage.js","webpack:///./src/js/Therm.js","webpack:///./src/js/UI.js"],"names":["window","UI","Therm","Construction","Storage","Helpers","document","querySelector","addEventListener","e","modifyRowController","target","tableBody","addToInputLayers","event_calculate","Event","console","log","table","hasData","doesTableHaveFormData","alert","removeEmptyTableRows","hasValidInputData","validateTableFormNumberInput","isComplete","validateTableFormComplete","airLayerBounded","isAirLayerBounded","layerData","extractLayerInfoFromTable","construction","clearCharts","chart","drawLayers","plotTemps","getPlotTemps","drawTemperatures","displayConstructionResults","addConstruction","populateHistory","dispatchEvent","tagName","innerHTML","row","getClosest","parentElement","id","getConstructionByID","populateInputTableFromConstruction","$","makeSortable","_dev_helpers","test_data","inputTable","clearTableBody","i","defaultCanvasImage","clearConstructionResults","clearConstructions","canvas","fitToParentContainer","toggle","col","inputs","querySelectorAll","forEach","input","readOnly","checked","classList","keyCode","handleHistoryName","once","name","value","updateConstructionName","deleteConstruction","btn","btnText","btnIcon","textContent","remove","add","exportConstructions","response","confirm","importConstructionsFromFile","files","data","_idToken","sortable","materials","thicknesses","k_vals","map","Number","r_vals","layerRValues","r_value","calcRValue","thickness","reduce","acc","val","makeIDToken","n","_name","r_val","idx","airlayerResistance","curr","push","holding","material","sort","a","b","nameA","m","toUpperCase","nameB","output","layer","d","join","r","interpolateR","findIndex","item","table_rows","rows","length","cells","children","contains","bounded","deleteRow","el","parent","parentNode","height","clientHeight","width","clientWidth","number","integer","toFixed","toPrecision","x","p","parseFloat","elem","selector","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","constructions","localStorage","getItem","JSON","parse","getConstructions","entry","setItem","stringify","newCons","every","splice","removeItem","csvHeaders","csvBody","c","c_idx","unshift","csv_data","split","shift","c_id","saveConstruction","t","k","csv","JSONtoCSV","hiddenElement","createElement","href","encodeURIComponent","download","click","fileList","file","reader","FileReader","readAsText","onload","CSVtoConstruction","result","onloadend","onerror","error","dataset","get_dataset","ctx","getContext","myChart","Chart","type","labels","datasets","options","legend","display","onClick","filter","state","text","label","datasetIndex","items","some","includes","scales","yAxes","categoryPercentage","barPercentage","position","xAxes","scaleLabel","labelString","ticks","stepSize","maxRotation","callback","index","values","afterBuildTicks","axis","arr","limit","tooltips","mode","callbacks","title","tooltipItem","supportingLayerNames","y","String","fromCharCode","layer_idx","indexOf","x_pos","slice","precise","fixed","tempDataLength","tooltip","xLabel","responsive","helpers","each","instances","instance","destroy","t_o","t_i","calculateIntermediateTemps","yAxisID","lineTension","borderWidth","borderColor","pointStyle","pointBorderColor","pointBackgroundColor","backgroundColor","min","Math","round","max","fontColor","update","u_value","Q_area","calculateQ_area","xMin","xMax","temps","t_n","ext_air","stack","int_air","surface","surfaceResistanceEnabled","r_ext","randomColor","r_int","h","w","clearRect","offset","lineWidth","strokeRect","font","textAlign","fillStyle","fillText","category","names","addRowAbove","closest","rowIndex","newRow","insertRow","rowInnerHTML","cell","table_body","rowtype","new_row","cavityRowInnerHTML","appendChild","body","historyTable","addToHistory","badgeFormatter","list","class_options","formatNumberLength","style","fields","field","numDigits","u","r_t","u_t","r_surface","getSurfaceResistance","r_total","calcTotalR","unit","els","concat","colorList","colors"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,mC;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,gC;;;;;;;;;;;ACJA,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA,iBAAiB,mBAAO,CAAC,0EAAqB;;;;;;;;;;;;ACA9C,2BAA2B,mBAAO,CAAC,wGAAmD;AACtF;AACA,cAAc,QAAS,wEAAwE,uBAAuB,KAAK,iEAAiE,kCAAkC,KAAK,eAAe,oCAAoC,KAAK,cAAc,6BAA6B,KAAK,eAAe,gCAAgC,KAAK,iBAAiB,wBAAwB,KAAK,qCAAqC,qBAAqB,EAAE,8CAA8C,0BAA0B,wBAAwB,KAAK,iDAAiD,0BAA0B,KAAK,aAAa,kCAAkC,KAAK,mBAAmB,sBAAsB,uBAAuB,KAAK,8FAA8F,kCAAkC,KAAK;;;;;;;;;;;;;ACF/4B;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,2CAA2C,qBAAqB;AAChE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrtBa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA,YAAY,2BAA2B;AACvC;AACA;;AAEA,YAAY,uBAAuB;AACnC;AACA;AACA,KAAK;AACL;;AAEA,YAAY,uBAAuB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,kCAAkC;;AAElC;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,wFAAwF;AACxF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,uBAAuB,4BAA4B;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzRA;CAGA;;AACA;AACA;AACA;AACA;CAGA;;AACAA,MAAM,CAACC,EAAP,GAAYA,iDAAZ;AACAD,MAAM,CAACE,KAAP,GAAeA,oDAAf;AACAF,MAAM,CAACG,YAAP,GAAsBA,2DAAtB;AACAH,MAAM,CAACI,OAAP,GAAiBA,sDAAjB;AACAJ,MAAM,CAACK,OAAP,GAAiBA,sDAAjB,C,CAIA;;AAC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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nmodule.exports = _readOnlyError;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = require(\"regenerator-runtime\");\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*jQuery table row dragging maintain width*/\\r\\n.ui-sortable-helper {\\r\\n    display: table;\\r\\n}\\r\\n/* Toggle icon visibility on hover */\\r\\ntr:hover i.row-ops {\\r\\n    display: block !important;\\r\\n}\\r\\n.border-3 {\\r\\n    border-width:2px !important;\\r\\n}\\r\\n.results {\\r\\n    margin: 0 !important;\\r\\n}\\r\\ntd button {\\r\\n    height: 100% !important;\\r\\n}\\r\\n.text-large {\\r\\n    font-size: 100%;\\r\\n}\\r\\n#input-layers > thead > tr > th { border-bottom: none; }\\r\\n#history > tbody > tr .text-danger:hover {\\r\\n    font-weight: bold;\\r\\n    cursor: pointer;\\r\\n}\\r\\ninput:disabled.form-control-plaintext:focus {\\r\\n        outline: none;\\r\\n}\\r\\n.cavity {\\r\\n    background-color: #f2fcff;\\r\\n}\\r\\ndiv.constrain {\\r\\n    height: 250px;\\r\\n    overflow: auto;\\r\\n}\\r\\n.table-striped>tbody>tr:nth-child(odd)>td, \\r\\n.table-striped>tbody>tr:nth-child(odd)>th {\\r\\n    background-color: #f5fbfc;\\r\\n}\\r\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","// bundle items for webpack\nimport './css/app.css'\n\n// Import components\nimport UI from './js/UI.js'\nimport Helpers from './js/Helpers.js'\nimport Therm from './js/Therm.js'\nimport Construction from './js/Construction.js'\nimport Storage from './js/Storage.js'\n\n// register for dev only\nwindow.UI = UI;\nwindow.Therm = Therm;\nwindow.Construction = Construction;\nwindow.Storage = Storage;\nwindow.Helpers = Helpers;\n\n\n\n// EVENT: Modify table row (add/delete)\ndocument.querySelector('#input-layers').addEventListener('click', e => {\n    UI.modifyRowController(e.target);\n})\n\n// EVENT: add air cavity row\ndocument.querySelector('#add-air-cavity').addEventListener('click', e => {\n    const tableBody = document.querySelector('#input-layers').querySelector('tbody')\n    UI.addToInputLayers(tableBody, \"cavity\")\n})\n\n// EVENT: Calculate\n// custom event handle\nconst event_calculate = new Event('calculate');\n\ndocument.addEventListener('calculate', e => {\n    console.log(\"Calculate!\")\n    // get table body ref\n    const table = document.querySelector('#input-layers').querySelector('tbody');\n    \n    // Check for data\n    const hasData = Helpers.doesTableHaveFormData(table);\n    if(!hasData){\n        alert('No data')\n        return\n    } else {\n        // Remove empty rows\n        Helpers.removeEmptyTableRows(table);\n        \n        // data validation\n        const hasValidInputData = Helpers.validateTableFormNumberInput(table);\n        const isComplete = Helpers.validateTableFormComplete(table);\n        const airLayerBounded = Helpers.isAirLayerBounded(table);\n        \n        if(!isComplete){\n            alert('Data missing in row. Update or delete incomplete rows.')\n            return\n        } else if(!hasValidInputData){\n            alert('> d and k values must be numbers. Please check input.\\n> Air layer thickness must be between 0 - 300mm');\n            return\n        } else if(!airLayerBounded){\n            alert('Air layer must be between two material layers')\n            return\n        } else {\n            // Get data [0] material, [1] thickness, [2] k value\n            const layerData = Helpers.extractLayerInfoFromTable(table);\n            // create Construction\n            const construction = new Construction(layerData[0], layerData[1], layerData[2]);\n            console.log(construction)\n            \n            // Clear existing charts\n            Therm.clearCharts();\n            // Draw construction\n            const chart = Therm.drawLayers(construction);\n            \n            // Get temp plot options from construction properties table\n            const plotTemps = Helpers.getPlotTemps()\n            // Draw temperature gradients \n            Therm.drawTemperatures(construction, chart, ...plotTemps)\n            \n            // Display results\n            UI.displayConstructionResults(construction);\n\n            // Record in history\n            Storage.addConstruction(construction);\n            // Update History Table\n            UI.populateHistory();\n        }        \n    }\n\n})\n\ndocument.querySelector('#calculate').addEventListener('click', e => {\n    document.dispatchEvent(event_calculate)\n});\n\n// EVENT: Load from History\ndocument.querySelector('#history').addEventListener('click', e => {\n    // if click is in input field or delete button, do nothing\n    if(e.target.tagName === 'INPUT' || e.target.innerHTML === 'delete'){ return }\n    // get parent node (table row)\n    const row = Helpers.getClosest(e.target, 'tr')\n    // check if element is table row not column (i.e. not header or other element)\n    if(row.parentElement.tagName === \"THEAD\"){ return }\n    // get construction id value\n    const id = row.querySelector('#c_id').innerHTML;\n    // retrieve construction from storage\n    const construction = Storage.getConstructionByID(id);\n    // populate input table and plot\n    if(construction){\n        UI.populateInputTableFromConstruction(construction);\n        document.dispatchEvent(event_calculate);\n        $(makeSortable());\n    }\n\n})\n\n// EVENT: DEV TESTING\ndocument.querySelector('#dev-test').addEventListener('click', () =>{\n    _dev_helpers.test_data();\n})\n\n// EVENT: Reset\ndocument.querySelector('#reset').addEventListener('click', () => {\n    // remove rows from input table\n    const inputTable = document.querySelector('#input-layers');\n    const tableBody = UI.clearTableBody(inputTable)\n    $(makeSortable());\n    // redraw input table with four rows\n    for(let i = 0; i < 4; i++){\n        UI.addToInputLayers(tableBody);\n    }\n    // reset canvas\n    Therm.clearCharts();\n    // draw default image\n    Therm.defaultCanvasImage();\n\n    // reset results window\n    UI.clearConstructionResults();\n})\n\n\n// EVENT: Clear History\ndocument.querySelector('#clear-history').addEventListener('click', () => {\n    // Clear storage\n    Storage.clearConstructions();\n    // Reload table\n    UI.populateHistory();\n})\n\n// EVENT: On load and resize\nwindow.addEventListener('load', () => {\n    // Load canvas and size it to div\n    const canvas = document.querySelector('#canvas-construction');\n    Helpers.fitToParentContainer(canvas);\n    // draw default image\n    Therm.defaultCanvasImage();\n\n    // Populate History\n    UI.populateHistory();\n})\nwindow.addEventListener('resize', () => {\n    // Resize canvas\n    const canvas = document.querySelector('#canvas-construction');\n    Helpers.fitToParentContainer(canvas);\n    // draw default image\n    Therm.defaultCanvasImage();\n})\n\n// EVENT: Click R_surface enable toggle\ndocument.querySelector('#customSwitch1').addEventListener('click', () => {\n    // recalculate\n    // replot\n    document.dispatchEvent(event_calculate);\n\n    // change column style based on toggle position\n    const toggle = document.querySelector('#customSwitch1');\n    // get column\n    const col = document.querySelector('#surface-properties');\n    // get all inputs\n    const inputs = col.querySelectorAll('input');\n    // reformat\n    inputs.forEach((input) => {\n        input.readOnly = !toggle.checked;\n        input.classList.toggle('text-body');\n    });\n    \n});\n\n// EVENT: t_o t_i refresh\ndocument.querySelector('#temp-refresh').addEventListener('click', () => {\n    // recalculate\n    // replot\n    document.dispatchEvent(event_calculate);\n})\n\n// EVENT: add name to history (click out and enter press)\ndocument.querySelector('#history').addEventListener('keyup', e => { \n    if(e.keyCode === 13){ handleHistoryName(e) }\n});\n\ndocument.querySelector('#history').addEventListener('click', e => {\n    // if the user clicks into an input field\n    if(e.target.tagName == \"INPUT\"){\n        // create a one time event listener to tell when they click out of that input field\n        e.target.addEventListener('blur', () => {\n            // write name to storage\n            handleHistoryName(e);\n        }, { once: true })\n    }  \n})\n\nfunction handleHistoryName(e){\n    // get name\n    const name = e.target.value;\n    // get construction id\n    const row = e.target.parentElement.parentElement;\n    const id = row.querySelector('#c_id').innerHTML;\n    // save name\n    Storage.updateConstructionName(id, name);\n}\n\n// EVENT History delete row\ndocument.querySelector('#history').addEventListener('click', e => {\n    // only delete if delete button clicked\n    if(e.target.innerHTML === 'delete'){\n        // get parent node (table row)\n        const row = Helpers.getClosest(e.target, 'tr');\n        // get construction id value\n        const id = row.querySelector('#c_id').innerHTML;\n        // delete from Storage\n        Storage.deleteConstruction(id);\n        // repopulate table\n        UI.populateHistory();\n     }\n})\n// EVENT: Expand history table\ndocument.querySelector('#expand-history').addEventListener('click', () => {\n    // toggle History div element height property\n    document.querySelector('#history-div').classList.toggle('constrain')\n    // toggle button text\n    const btn = document.querySelector('#expand-history');\n    const btnText = btn.querySelector('span');\n    const btnIcon = btn.querySelector('i');\n\n    if(btnText.textContent === \"Expand Table\"){\n        btnText.textContent = \"Collapse Table\";\n        btnIcon.classList.remove('fa-angle-down');\n        btnIcon.classList.add('fa-angle-up');\n    } else {\n        btnText.textContent = \"Expand Table\";\n        btnIcon.classList.remove('fa-angle-up');\n        btnIcon.classList.add('fa-angle-down');\n    }\n})\n\n// EVENT Export History Data\ndocument.querySelector('#export-history').addEventListener('click', () => {\n    Storage.exportConstructions();\n})\n\n// EVENT Import history data\ndocument.querySelector('#import-history').addEventListener('change', e => {\n    // flash alert that this will erase current hisory\n    const response = confirm(\"This will erase current history\");\n    if(response){\n        // Clear storage\n        Storage.clearConstructions();\n        // handle file and load into storage\n        Storage.importConstructionsFromFile(e.target.files);\n    }\n});\n\n// HELPERS\nclass _dev_helpers {\n    static test_data() {\n        // dummy data\n        const data = new Construction(['steel', 'wood', 'textile'], [6, 3, 8], [1.1, 2.5, 1.8]);\n        // draw\n        UI.populateInputTableFromConstruction(data);\n        document.dispatchEvent(event_calculate);\n        // add name\n        Storage.updateConstructionName(data._idToken, \"::example construction::\");\n        // reload storage\n        UI.populateHistory();\n        // make sortable\n        makeSortable();\n    }\n}\n\nfunction makeSortable(){\n    $(\".sortable\").sortable();\n}","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./app.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Construction Class: model to represent the 'construction' built from inputs\nexport default class Construction {\n    constructor(materials, thicknesses, k_vals){\n        this.materials = materials;\n        this.thicknesses = thicknesses.map(Number);\n        this.k_vals = k_vals;\n        this.r_vals = Construction.layerRValues(thicknesses, k_vals);\n        this.r_value = Construction.calcRValue(thicknesses, k_vals);\n        this.thickness = thicknesses.reduce((acc, val) => { return acc + Number(val) }, 0)\n        this._idToken = Construction.makeIDToken(materials, thicknesses, k_vals);\n    }\n\n    set name(n){\n        this._name = n;\n    }\n\n    get name(){\n        return this._name;\n    }\n\n    get u_value() {\n        return 1/this.r_value;\n    };\n\n    static u_value(construction) {\n        return 1/construction.r_value;\n    }\n\n    static calcRValue(thicknesses, k_vals){\n        let r_val = 0;\n        thicknesses.forEach((thickness, idx) => {\n            // if layer is air layer, calculate airlayerR  (air layer is assigned k_val of \"\" when created)\n            if(k_vals[idx]===\"\"){\n                r_val += Construction.airlayerResistance(thickness);\n            } else {\n                r_val += 0.001*thickness/k_vals[idx];\n                //console.log(`d: ${thickness}, k: ${k_vals[idx]}`);\n            }\n        })\n        return r_val;\n    }\n\n    // this doen't work in constructor, cant seem to access this.r_vals\n    static totalRValue(r_vals){\n        return r_vals.reduce((acc, curr) => { acc + curr }, 0)\n    }\n\n    static layerRValues(thicknesses, k_vals){\n        let r_vals = []\n        thicknesses.forEach((thickness, idx) => {\n            // if layer is air layer, calculate airlayerR (air layer is assigned k_val of \"\" when created)\n            if(k_vals[idx]===\"\"){\n                r_vals.push(Construction.airlayerResistance(thickness));\n            } else {\n            // else push r_val\n                r_vals.push(0.001*thickness/k_vals[idx]);\n            }\n        });\n        return r_vals\n    }\n\n    static makeIDToken(materials, thicknesses, k_vals) {\n        const holding = []\n        materials.forEach((material, idx) => {\n            holding.push({ \"m\": material, \"d\": [thicknesses[idx], k_vals[idx]] })\n        })\n        // sort\n        holding.sort(function(a, b){\n            const nameA = a.m.toUpperCase(); // ignore upper and lowercase\n            const nameB = b.m.toUpperCase(); // ignore upper and lowercase\n            if (nameA < nameB) {\n                return -1;\n            }\n            if (nameA > nameB) {\n                return 1;\n            }\n            // names must be equal\n            return 0;\n        });\n        // join\n        const output = []\n        holding.forEach(layer => {\n            output.push([layer.m, layer.d.join(\"_\")].join(\"_\"))\n        });\n        return output.join(\"-\")\n    }\n\n    // Calculate air layer thermal resistance (horizontal) for unventilated layer as per BS-ISO6946\n    // d needs to be validated b/w 0->300 before being passed to this function.\n    static airlayerResistance(d) {\n        const thickness = [0, 5, 7, 10, 15, 25, 300.1],\n              r = [0, 0.11, 0.13, 0.15, 0.17, 0.18, 0.18];\n        \n        const interpolateR = (d) => {\n            // find d position upper limit in thickness array\n            const idx = thickness.findIndex(function(item){ return item > d })\n            // interpolate\n            return r[idx-1] + (r[idx]-r[idx-1])*((d-thickness[idx-1])/(thickness[idx]-thickness[idx-1]))\n        }\n\n        return interpolateR(d)\n    }\n}","export default class Helpers {\n    static doesTableHaveFormData(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows (backward just because)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if material [1], thickness [2], or k [3] have value, return success\n            if(cells[1].children[0].value != '' || cells[2].children[0].value != '' || cells[3].children[0].value != ''){\n                return true;\n            }\n        }\n        // if no data found\n        return false;\n    }\n    \n    // check all rows have three input cells filled\n    static validateTableFormComplete(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows bottom to top (b/c we will be removing as we go)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if layer is air layer, skip k value validation\n            if(table_rows[i].classList.contains(\"cavity\")){\n                // if material [1], thickness [2] are empty, return 'not-valid' row.\n                if(cells[1].children[0].value === '' || cells[2].children[0].value === ''){\n                    return false;\n                }\n            } else {\n                // if material [1], thickness [2], or k [3] are empty, return 'not-valid' row.\n                if(cells[1].children[0].value === '' || cells[2].children[0].value === '' || cells[3].children[0].value === ''){\n                    return false;\n                }\n            }\n        }\n        return true;  \n    }\n\n    // check data in input rows is the right format\n    static validateTableFormNumberInput(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows (backward just because)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n\n            // if layer is air layer, skip k value validation\n            if(table_rows[i].classList.contains(\"cavity\")) {\n                // if thickness [2]cannot be cast to number, fail\n                if(!Number(cells[2].children[0].value)){\n                    return false;\n                } else if(cells[2].children[0].value < 0 || cells[2].children[0].value > 300) {\n                    // too thick for air cavity - other calculation methods are required\n                    // beyond the scope of this site.\n                    return false;\n                }\n            } else {\n                // if thickness [2], and k [3] cannot be cast to number, fail\n                if(!Number(cells[2].children[0].value) || !Number(cells[3].children[0].value)){\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    // check that air layer rows are bounded by material rows\n    static isAirLayerBounded(table) {\n        // get table rows\n        const table_rows = table.rows;\n        // loop through and check for air layers at edges or adjacent\n        let bounded = true;\n        for(let idx = 0; idx < table_rows.length; idx++) {\n            const row = table_rows[idx]\n            // if last or first table row is air layer, then it is not bounded\n            if(idx===0 && row.classList.contains(\"cavity\")) {\n                bounded = false\n            } else if(idx === table_rows.length-1 && row.classList.contains(\"cavity\")) {\n                bounded = false\n            } else if(row.classList.contains(\"cavity\")){\n                // if air cavity (not start or end), if next row is cavity, not bounded\n                if(table_rows[idx+1].classList.contains(\"cavity\")){\n                    bounded = false\n                }\n            }\n        }\n        return bounded\n\n    }\n\n    static removeEmptyTableRows(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows bottom to top (b/c we will be removing as we go)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if material [1], thickness [2], and k [3] are empty, delete row.\n            if(cells[1].children[0].value === '' && cells[2].children[0].value === '' && cells[3].children[0].value === ''){\n                UI.deleteRow(table_rows[i]);\n            }\n        }    \n    }\n\n    static extractLayerInfoFromTable(table){\n        // get table rows\n        const table_rows = table.rows;\n\n        // Initialise output arrays\n        let materials = [];\n        let thicknesses = [];\n        let k_vals = [];\n\n        // Loop through rows and save data\n        for(let i=0; i < table_rows.length; i++){\n            materials.push(table_rows[i].cells[1].children[0].value);\n            thicknesses.push(table_rows[i].cells[2].children[0].value);\n            k_vals.push(table_rows[i].cells[3].children[0].value);\n        };\n\n        return [materials, thicknesses, k_vals]\n    }\n\n    static fitToParentContainer(el) {\n        const parent = el.parentNode;\n        el.height = parent.clientHeight;\n        el.width = parent.clientWidth;\n    }\n\n    static getPlotTemps() {\n        const output = []\n        output.push(Number(document.querySelector(\"#temp-outside\").value))\n        output.push(Number(document.querySelector(\"#temp-inside\").value))\n        return output\n    }\n\n    static formatNumberLength(number, length) {\n        // if number is blank string, return early\n        if(number===\"\"){ return \"\" }\n        // get integer part\n        const integer = number.toFixed(0);\n        // if 0, then number is decimal and we want fixed length-1\n        if(integer===\"0\"){\n            return number.toFixed(length-1);\n        } else {\n            // can just use to precision\n            return number.toPrecision(length);\n        }\n    }\n\n    static precise(x, p = 4){\n        return Number.parseFloat(x).toPrecision(p)\n    }\n    static fixed(x, p = 2){\n        return Number.parseFloat(x).toFixed(p)\n    }\n\n    // jQuery method in Vanilla JS\n    static getClosest( elem, selector ) {\n\n        // Element.matches() polyfill\n        if (!Element.prototype.matches) {\n            Element.prototype.matches =\n                Element.prototype.matchesSelector ||\n                Element.prototype.mozMatchesSelector ||\n                Element.prototype.msMatchesSelector ||\n                Element.prototype.oMatchesSelector ||\n                Element.prototype.webkitMatchesSelector ||\n                function(s) {\n                    const matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                        i = matches.length;\n                    while (--i >= 0 && matches.item(i) !== this) {}\n                    return i > -1;\n                };\n        }\n\n        // Get closest match\n        for ( ; elem && elem !== document; elem = elem.parentNode ) {\n            if ( elem.matches( selector ) ) return elem;\n        }\n\n        return null;\n\n    };\n\n}\n","import Construction from \"./Construction.js\";\nimport UI from \"./UI.js\";\n\n// Storage Class: Control browser storage\nexport default class Storage {\n    // Load Storage\n    static getConstructions() {\n        let constructions;\n        if(localStorage.getItem('constructions') === null) {\n            constructions = [];\n        } else {\n            constructions = JSON.parse(localStorage.getItem('constructions'))\n        }\n        return constructions;\n    }\n\n    // get construction by id\n    static getConstructionByID(id) {\n        const constructions = Storage.getConstructions();\n        for (let construction of constructions) {\n            if(construction._idToken == id){\n                return construction\n            }\n        }\n        console.log('Construction not found in local storage. Abort.')\n        return false\n    }\n\n    // Update item in storage\n    static updateConstructionName(id, name) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // find construction to update\n        constructions.forEach((entry, idx) => {\n            if(entry._idToken === id){\n                // update name parameter\n                constructions[idx].name = name;\n            }\n        });\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Add to storage\n    static addConstruction(construction) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // check if exists\n        const newCons = constructions.every((entry) => {\n            if(entry._idToken === construction._idToken){\n                console.log('duplicate! save aborted')\n                return false;\n            }\n            return true;\n        });\n        if(!newCons){ return }\n\n        // add construction\n        constructions.push(construction);\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Delete from Storage\n    static deleteConstruction(id) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // find construction to delete\n        for(let i = 0; i < constructions.length; i++){\n            if(constructions[i]._idToken === id){\n                // delete\n                constructions.splice(i, 1);\n                break;\n            }\n        }\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Clear storage\n    static clearConstructions() {\n        localStorage.removeItem('constructions');\n    }\n\n    // convert storage into csv file\n    static JSONtoCSV(){\n        // get constructions\n        const constructions = Storage.getConstructions();\n        // csv headers\n        const csvHeaders = ['id', 'name', 'material', 'thickness', 'k-val', 'r-val', 'total-r'];\n        // make csv content\n        const csvBody = [];\n        constructions.forEach((c, c_idx) => {\n            // create new row per material layer\n            c.materials.forEach((m, idx) => {\n                csvBody.push([\n                    c_idx,\n                    c.name,\n                    m,\n                    c.thicknesses[idx],\n                    c.k_vals[idx],\n                    c.r_vals[idx],\n                    c.r_value\n                ]);\n            });\n        });\n        // insert csv headers at start of data\n        csvBody.unshift(csvHeaders)\n        // join into csv string\n        return csvBody.join(\"\\n\")\n    }\n    \n    // convert CSV to Constructions\n    static CSVtoConstruction(csv_data){\n        // convert to list per row\n        const data = csv_data.split('\\n');\n        // remove header\n        data.shift();\n        // results containers\n        let materials = [], thicknesses = [], k_vals = [];\n        // current construction id (for processing layers)\n        let c_id, name;\n        // loop through each row, extract info for a construction and create\n        data.forEach((row, idx) => {\n            // split row into element\n            const layer = row.split(',');\n            // validate number of columns [id, name, mat, d, k]\n            if(layer.length < 5){ return }\n            // set c_id, name on first iteration\n            if(idx==0){ c_id = layer[0]; name = layer[1] }\n            // if construction id does not == previous, save existing construction, reset and start new construction\n            if(layer[0] != c_id){\n                // create & save construction\n                saveConstruction(materials, thicknesses, k_vals, name);\n                // reset variables\n                materials = [];\n                thicknesses = [];\n                k_vals = [];\n                // set new c_id, name\n                c_id = layer[0];\n                name = layer[1];\n            }\n\n            // process layer\n            materials.push(layer[2]);\n            thicknesses.push(layer[3]);\n            k_vals.push(layer[4]);\n\n        })\n        // create final construction\n        saveConstruction(materials, thicknesses, k_vals, name);\n\n        // Helper\n        function saveConstruction(m, t, k, n){\n            const c = new Construction(m, t, k);\n            // save construction\n            Storage.addConstruction(c);\n            console.log(n);\n            Storage.updateConstructionName(c._idToken, n)\n\n        }\n    }\n\n\n    // export to csv\n    static exportConstructions(){\n        // convert stored constructions to csv-like format\n        const csv = Storage.JSONtoCSV();\n        // set params via a 'hidden' element\n        const hiddenElement = document.createElement('a');\n        hiddenElement.href = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(csv);\n        hiddenElement.target = '_blank';\n        hiddenElement.download = 'constructions.csv'\n        hiddenElement.click();\n    }\n\n    // import from csv\n    static async importConstructionsFromFile(fileList){\n        // upload button is restricted to one-file.\n        // get file element\n        const file = fileList[0];\n        // read file element\n        const reader = new FileReader();\n        reader.readAsText(file);\n        // event on read (b/c async we just can't call this sequentially)\n        reader.onload = function() {\n            Storage.CSVtoConstruction(reader.result)\n        }\n        reader.onloadend = function() {\n            UI.populateHistory();\n        }\n        reader.onerror = function() {\n            alert(\"read failed. check console for details\")\n            console.log(reader.error)\n        }\n    }\n}","import UI from './UI.js';\nimport Helpers from './Helpers.js';\n\n// Therm Class: Calculation and rendering methods\nexport default class Therm {\n\n    static drawLayers(construction) {\n        // process data (add air layers, convert to Chart.js format)\n        const dataset = Therm.get_dataset(construction);\n\n        // get canvas\n        const canvas = document.querySelector('#canvas-construction');\n        // set context\n        const ctx = canvas.getContext(\"2d\");\n\n        // draw\n        const myChart = new Chart(ctx, {\n            type: 'horizontalBar',\n            data: {\n                labels: [\"construction\"],\n                datasets: dataset\n                //borderColor: 'rgb(255, 99, 132)'\n            },\n            options: {\n                legend: {\n                    display: true,\n                    onClick: null,\n                    labels: {\n                        filter: function(item, chart) {\n                            let state = true;\n                            // check if cavity\n                            if(item.text===\"== unventilated cavity ==\"){\n                                // Logic to remove air cavity label if another exists\n                                // get legend items\n                                const labels = chart['datasets']\n                                // loop through items\n                                for(let i=0; i<labels.length-1;i++){\n                                    //get first item that is cavity, then check if it is same index as current legend item\n                                    if(labels[i].label===\"== unventilated cavity ==\"){\n                                        // if it is same item, keep item and break the filter loop\n                                        if(i === item.datasetIndex){\n                                            break;\n                                        } else {\n                                            // if it is not same item, then this is a duplicate lengend entry and should be removed\n                                            state = false;\n                                            break;\n                                        }\n                                    }\n                                }\n                                //for(let i =)\n                            } else {\n                                // Logic to remove a particular legend item goes here\n                                const items = ['air (ext.)', 'air (int.)'];\n                                if(items.some(el => item.text.includes(el))){ state = false }\n                            }\n                            \n                            \n                            return state;\n                        }\n                    }\n                },\n                scales: {\n                    yAxes: [{\n                        categoryPercentage: 1.0,\n                        barPercentage: 1.0,\n                        position: 'right'\n                    }],\n                    xAxes: [{\n                        scaleLabel: {display: true, labelString: 'thickness'},\n                        ticks: {\n                            stepSize: 1.0,\n                            maxRotation: 0,\n                            callback: function(value, index, values){\n                                const n = values.length;\n                                if(n <= 25){\n                                    return value\n                                } else if(n > 25 && n <= 50){\n                                    if( index % 2 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 50 && n <= 75){\n                                    if( index % 2 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 75 && n <= 100){\n                                    if( index % 3 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 100 && n <= 125){\n                                    if( index % 5 == 0 ){\n                                        return value\n                                    }\n                                } else {\n                                    if( index % 10 == 0 ){\n                                        return value\n                                    }\n                                }\n                            }\n                        },\n                        afterBuildTicks: function(axis, ticks){\n                            // filter ticks so that only ticks around construction are shown\n                            return ticks.filter((val, idx, arr) => {\n                                // get construction thickness\n                                const limit = construction.thickness\n                                return val >= 0 && val <= limit;\n                            })\n                        }\n                    }]\n                },\n                tooltips: {\n                    mode: 'nearest',\n                    callbacks: {\n                        title: function(tooltipItem, data) {\n                            let label = tooltipItem[0].label;\n                            if(label === \"construction\"){\n                                // get title of data\n                                let label = data.datasets[tooltipItem[0].datasetIndex].label\n                                // if surface resistance or air boundary, just show name\n                                if(Therm.supportingLayerNames().includes(label)){\n                                    return label\n                                } else {\n                                    return \"construction\"\n                                }\n                            } else {\n                                return \"temperature\"\n                            }\n                        },\n                        label: function(tooltipItem, data) {\n                            // if construction show thickness with mm\n                            if(tooltipItem.label === \"construction\"){\n                                let label = data.datasets[tooltipItem.datasetIndex].label;\n                                // if surface resistance show nothing\n                                if(Therm.supportingLayerNames(\"surface\").includes(label)){\n                                    return\n                                //if air boundary, show temperature\n                                } else if(Therm.supportingLayerNames(\"air\").includes(label)) {\n                                    if(tooltipItem.value < 0){\n                                        // temp is always first dataset\n                                        // left side air layer, get left side temp value\n                                        return `${data.datasets[0].data[0].y} ${String.fromCharCode(176)}C`\n                                    } else {\n                                        // right side air layer, get right side temp value\n                                        return `${data.datasets[0].data[data.datasets[0].data.length-1].y} ${String.fromCharCode(176)}C`\n                                    }\n                                } else {\n                                    // material. Show thickness AND layer r-val AND x-val\n                                    let layer_idx = construction.materials.indexOf(label);\n                                    let x_pos = (construction.thicknesses.slice(0,layer_idx+1)).reduce((a, b) => a + b, 0);\n                                    return [\n                                        `${label}: ${tooltipItem.value} mm`, \n                                        `R: ${Helpers.precise(construction.r_vals[layer_idx], 3)}`,\n                                        `x = ${Helpers.fixed(x_pos)} mm`\n                                    ]\n                                }\n                            } else {\n                                // Temperature Point\n                                // show temp with degC and x (x if not endpoint)\n                                const tempDataLength = data.datasets[tooltipItem.datasetIndex].data.length;\n                                const tooltip = [`${Helpers.fixed(tooltipItem.value)} ${String.fromCharCode(176)}C`]\n                                // if not endpoint, include x-value\n                                if(tooltipItem.index != 0 && tooltipItem.index != tempDataLength-1) {\n                                    tooltip.push(`x = ${Helpers.fixed(tooltipItem.xLabel)} mm`)\n                                }\n                                return tooltip\n                            }\n                        }\n                    },\n                },\n                responsive: false\n            }\n        });\n\n        return myChart\n    }\n\n    static clearCharts() {\n        Chart.helpers.each(Chart.instances, instance => {\n            instance.chart.destroy();\n        })\n    }\n\n    static drawTemperatures(construction, chart, t_o = 35, t_i = 24) {\n        // insert first so drawn ontop of bar chart\n        chart.data.datasets.unshift({\n            label: \"temperature\",\n            data: Therm.calculateIntermediateTemps(construction, chart, t_o, t_i),\n            type: 'line',\n            yAxisID: 'y-line',\n            lineTension: 0,\n            borderWidth: 1,\n            borderColor: '#f00',\n            pointStyle: 'circle',\n            pointBorderColor: '#f00',\n            pointBackgroundColor: '#f00',\n            backgroundColor: 'rgba(0, 0, 0, 0.0)'\n        });\n        chart.options.scales.yAxes.push({\n            id: 'y-line',\n            type: 'linear',\n            position: 'left',\n            ticks: {\n                min: 2*Math.round((Math.min(t_o,t_i)-2)/2),\n                max: 2*Math.round((Math.max(t_o,t_i)+2)/2)\n            },            \n            scaleLabel: {\n                labelString: \"Temperature\",\n                display: true,\n                fontColor: '#f00'\n            }\n        });\n        chart.update();\n    }\n\n    static calculateQ_area(construction, t_o, t_i) {\n        // Q/A = UdT [W/m2]\n        return construction.u_value * (t_o - t_i)\n    }\n\n    // calculate temperatures between layers in construction\n    static calculateIntermediateTemps(construction, chart, t_o, t_i) {\n        // Get heat transfer rate for construction\n        const Q_area = Therm.calculateQ_area(construction, t_o, t_i);\n        // get x-axis range\n        const xMin = chart.scales['x-axis-0'].min;\n        const xMax = chart.scales['x-axis-0'].max;\n        // intialise first temps in output array (external temperature)\n        const temps = [{x: 0, y: t_o}]\n        // loop through r vals, calculate temps external to internal\n        construction.r_vals.forEach((r_val, idx) => {\n            // get intermediate temp based on temp to left\n            let t_n = temps[idx]['y'] - (Q_area / (1 / r_val));\n            temps.push({x: temps[idx]['x']+construction.thicknesses[idx], y: t_n})\n        })\n        // push end points\n        temps.unshift({x: xMin, y:t_o})\n        temps.push({x: xMax, y: t_i})\n        return temps\n    }\n\n    static get_dataset(data) {\n        // define external and internal air layers\n        const ext_air = {label: 'air (ext.)', data: [-20], backgroundColor: 'rgba(0,0,0,0)', stack: \"main\"}\n        const int_air = {label: 'air (int.)', data: [20], backgroundColor: 'rgba(0,0,0,0)', stack: \"main\"}\n        // define output\n        const output = [];\n        // if surface resitance enabled\n        const surface = UI.surfaceResistanceEnabled()\n        if(surface){\n            // define surface layers\n            const r_ext = {label: 'R_surface (ext.)', data: [-0.05], backgroundColor: 'rgba(89, 241, 234, 1)', stack: \"main\"}\n            output.push(r_ext)\n        }\n        \n        // create output array, set first item as air external, second as ext surface resistance\n        output.push(ext_air);\n        data.materials.forEach((material, idx) => {\n            let d = {};\n\n            d.label = material;\n            d.data = [data.thicknesses[idx]];\n            //d.borderWidth = 2;\n            d.stack = \"main\";\n            // if air cavity make transperent\n            if(data.k_vals[idx]===\"\"){\n                d.backgroundColor = 'rgba(232, 246, 247, 0.4)';\n            } else {\n                // from randomColor library\n                d.backgroundColor = randomColor();\n            }\n            \n\n            output.push(d);\n        })\n        if(surface){\n            const r_int = {label: 'R_surface (int.)', data: [0.05], backgroundColor: 'rgba(89, 241, 234, 1)', stack: \"main\"}\n            output.push(r_int)\n        };\n        output.push(int_air);\n        return output;\n    }\n\n    static calcTotalR(construction, r_int, r_ext) {\n        return Number(construction.r_value) + r_int + r_ext;\n    }\n\n    static defaultCanvasImage(){\n        // get canvas\n        const canvas = document.querySelector('#canvas-construction');\n        // set context\n        const ctx = canvas.getContext('2d');\n        // get canvas height and width\n        const h = canvas.clientHeight;\n        const w = canvas.clientWidth;\n        // clear canvas content (if exists)\n        ctx.clearRect(0,0,w,h);\n        // set inlay offset\n        const offset = 5;\n        // draw rectangle\n        ctx.lineWidth = 0.3;\n        ctx.strokeRect(offset, offset, w-offset*2, h-offset*2);\n        // draw message\n        ctx.font = \"18px Lato\";\n        ctx.textAlign = \"center\";\n        ctx.fillStyle = \"gray\";\n        ctx.fillText(\"to draw a construction enter material details in the input table or select from history below\", w/2, h/2);\n    }\n\n    \n\n    // HELPERS\n    static supportingLayerNames(category = \"all\") {\n        let names = ['R_surface (ext.)', 'R_surface (int.)', 'air (int.)', 'air (ext.)'];\n        switch(category) {\n            case \"all\":\n                return names\n            case \"surface\":\n                return names.slice(0,2)\n            case \"air\":\n                return names.slice(2,4)\n        }\n    }\n}","import Storage from \"./Storage.js\";\nimport Therm from \"./Therm.js\";\nimport Construction from \"./Construction.js\";\n\n// UI Class: Control on-screen rendering (except Canvas)\nexport default class UI {\n    static modifyRowController(el) {\n        if(el.classList.contains('delete-row')){\n            console.log('Delete row!')\n            UI.deleteRow(el)\n        } else if(el.classList.contains('add-row')){\n            console.log('Add row above!')\n            UI.addRowAbove(el)\n        }\n    }\n\n    static addRowAbove(row) {\n        // Get index of row in table\n        const idx = row.closest('tr').rowIndex;\n        // Get table element\n        const table = row.closest('table');\n        // Insert row into table at index\n        const newRow = table.insertRow(idx);\n        // Fill row with styled table row html\n        newRow.innerHTML = UI.rowInnerHTML();\n\n    }\n\n    static deleteRow(cell) {\n        // Find row cell belongs too and remove row\n        cell.closest('tr').remove();\n    }\n\n    static addToInputLayers(table_body, rowtype=\"material\") {\n        const row = document.createElement('tr');\n        let new_row;\n        if(rowtype===\"cavity\"){\n            row.classList.add(\"cavity\");\n            row.innerHTML = UI.cavityRowInnerHTML();\n        } else {\n            row.innerHTML = UI.rowInnerHTML();\n        }\n        //append to table, return handle\n        new_row = table_body.appendChild(row);\n        return new_row\n    }\n\n    static clearTableBody(table) {\n        // // returns handle to new table body\n        // remove body\n        table.querySelector('tbody').remove();\n        // add new body\n        const body = document.createElement('tbody');\n        body.classList.add('sortable');\n        const tableBody = table.appendChild(body);\n        \n        return tableBody\n    }\n\n    static populateHistory() {\n        // get history table handle\n        const historyTable = document.querySelector('#history');\n        // clear table\n        const tableBody = UI.clearTableBody(historyTable);\n        // get local storage data\n        const constructions = Storage.getConstructions();\n\n        // repopulate\n        constructions.forEach((construction) => {\n            UI.addToHistory(construction, tableBody);\n        })\n    }\n\n    static addToHistory(construction, table) {\n        // create new row element\n        const row = document.createElement('tr');\n        \n        // fill row\n        row.innerHTML = `\n            <th scope=\"row\"><input type=\"text\" placeholder=\"add name here...\" class=\"form-control-plaintext font-weight-bold\" value=\"${construction.name || ''}\"></th>\n            <td>${UI.badgeFormatter({list: construction.materials, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.thicknesses, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.k_vals, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.r_vals.map(val => { return Helpers.formatNumberLength(val, 5)}), class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: [Helpers.formatNumberLength(Construction.u_value(construction), 5)], style: 'warning', class_options: 'text-large'})}</td>\n            <td>${UI.badgeFormatter({list: [Helpers.formatNumberLength(construction.r_value, 5)], style: 'warning', class_options: 'text-large'})}</td>\n            <td class=\"align-middle text-center text-danger\">delete</td>\n            <td class=\"d-none\" id=\"c_id\">${construction._idToken}</td>`;\n        \n        // append row to table\n        table.appendChild(row);\n    }\n\n    static populateInputTableFromConstruction(construction){\n        const table = document.querySelector('#input-layers');\n        const tableBody = UI.clearTableBody(table);\n        // for each construction layer, add row and populate\n        construction.materials.forEach((material, idx) => {\n            const data = [material, construction.thicknesses[idx], construction.k_vals[idx]];\n            // check for row type: material or air layer\n            let rowtype;\n            if(data[2] === \"\"){\n                rowtype = \"cavity\"\n            } else {\n                rowtype = \"material\"\n            }\n            const new_row = UI.addToInputLayers(tableBody, rowtype);\n            const fields = new_row.querySelectorAll('input');\n            fields.forEach((field, idx) => {\n                field.value = data[idx];\n            });\n        })\n    }\n\n    static displayConstructionResults(construction) {\n        // set display digit length\n        const numDigits = 5;\n\n        const r = document.querySelector(\"#r-construction\");\n        const u = document.querySelector(\"#u-construction\");\n        r.value = Helpers.formatNumberLength(construction.r_value, numDigits);\n        u.value = Helpers.formatNumberLength(construction.u_value, numDigits);\n        \n        const r_t = document.querySelector(\"#r-total\");\n        const u_t = document.querySelector(\"#u-total\");\n        if(UI.surfaceResistanceEnabled()){\n            const r_surface = UI.getSurfaceResistance();\n            const r_total = Therm.calcTotalR(construction, ...r_surface);\n            r_t.value = Helpers.formatNumberLength(r_total, numDigits);\n            u_t.value = Helpers.formatNumberLength((1/r_total), numDigits);\n        } else {\n            r_t.value = Helpers.formatNumberLength(construction.r_value, numDigits);\n            u_t.value = Helpers.formatNumberLength(construction.u_value, numDigits);\n        }\n    }\n\n    static clearConstructionResults() {\n        const r = document.querySelector(\"#r-construction\");\n        const u = document.querySelector(\"#u-construction\");\n        const r_t = document.querySelector(\"#r-total\");\n        const u_t = document.querySelector(\"#u-total\");\n\n        r.value = \"0.0\"\n        u.value = \"0.0\"\n        r_t.value = \"0.0\"\n        u_t.value = \"0.0\"\n    }\n\n    static getSurfaceResistance() {\n        const output  = [];\n        output.push(Number(document.querySelector(\"#r-external\").value));\n        output.push(Number(document.querySelector(\"#r-internal\").value));\n        return output\n    }\n\n    static surfaceResistanceEnabled() {\n        return document.querySelector('#customSwitch1').checked\n    }\n\n    // HELPERS\n    static rowInnerHTML() {\n        // Stores row HTML for new rows. Not sure where else to keep this?\n        const innerHTML = \n        `<td class=\"align-middle text-center\"><i class=\"fas fa-circle fa-xs text-primary\"></i></td>\n        <td><input type=\"text\" placeholder=\"material name\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" placeholder=\"depth\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" placeholder=\"k-val\" class=\"form-control-plaintext\"></td>\n        <td class=\"align-middle text-center\"><i class=\"far fa-plus-square fa-lg d-none row-ops add-row\"></i></td>\n        <td class=\"align-middle text-center\"><i class=\"fas fa-times fa-lg d-none row-ops text-danger delete-row\"></i></td>`;\n        return innerHTML\n    };\n\n    static cavityRowInnerHTML() {\n        const innerHTML =\n        `<td class=\"align-middle text-center\"><i class=\"fas fa-circle fa-xs text-primary\"></i></td>\n        <td><input type=\"text\" disabled value=\"== unventilated cavity ==\" class=\"form-control-plaintext font-italic\"></td>\n        <td><input type=\"text\" value=\"20\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" disabled value=\"\" class=\"form-control-plaintext text-secondary\"></td>\n        <td class=\"align-middle text-center\"><i class=\"far fa-plus-square fa-lg d-none row-ops add-row\"></i></td>\n        <td class=\"align-middle text-center\"><i class=\"fas fa-times fa-lg d-none row-ops text-danger delete-row\"></i></td>`;\n        return innerHTML\n    }\n\n    static badgeFormatter({list=[], style=false, class_options='', unit=''}={}){\n        let els = '';\n        list.forEach((item, idx) => {\n            if(style){\n                els = els.concat(`<div class=\"d-block\"><span class=\"badge badge-${style} ${class_options}\">${item} ${unit}</span></div>`)\n            } else {\n                els = els.concat(`<div class=\"d-block\"><span class=\"badge badge-${UI.colorList(idx)} ${class_options}\">${item} ${unit}</span></div>`)\n            }\n        });\n        return els \n    }\n\n    static colorList(idx){\n        const colors = ['primary', 'secondary', 'success', 'danger', 'info', 'light', 'dark'];\n        return colors[idx]\n    }\n};\n"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/readOnlyError.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/css/app.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/app.js","webpack:///./src/css/app.css?7c0e","webpack:///./src/js/Construction.js","webpack:///./src/js/Helpers.js","webpack:///./src/js/Storage.js","webpack:///./src/js/Therm.js","webpack:///./src/js/UI.js"],"names":["window","UI","Therm","Construction","Storage","Helpers","document","querySelector","addEventListener","e","modifyRowController","target","tableBody","addToInputLayers","event_calculate","Event","console","log","table","hasData","doesTableHaveFormData","alert","removeEmptyTableRows","hasValidInputData","validateTableFormNumberInput","isComplete","validateTableFormComplete","airLayerBounded","isAirLayerBounded","layerData","extractLayerInfoFromTable","construction","clearCharts","chart","drawLayers","plotTemps","getPlotTemps","drawTemperatures","displayConstructionResults","addConstruction","populateHistory","dispatchEvent","tagName","innerHTML","row","getClosest","parentElement","id","getConstructionByID","populateInputTableFromConstruction","$","makeSortable","_dev_helpers","test_data","inputTable","clearTableBody","i","defaultCanvasImage","clearConstructionResults","clearConstructions","canvas","fitToParentContainer","toggle","col","inputs","querySelectorAll","forEach","input","readOnly","checked","classList","keyCode","handleHistoryName","once","name","value","updateConstructionName","deleteConstruction","btn","btnText","btnIcon","textContent","remove","add","exportConstructions","response","confirm","importConstructionsFromFile","files","data","_idToken","sortable","materials","thicknesses","k_vals","map","Number","r_vals","layerRValues","r_value","calcRValue","thickness","reduce","acc","val","makeIDToken","n","_name","r_val","idx","airlayerResistance","curr","push","holding","material","sort","a","b","nameA","m","toUpperCase","nameB","output","layer","d","join","r","interpolateR","findIndex","item","table_rows","rows","length","cells","children","contains","bounded","deleteRow","el","parent","parentNode","height","clientHeight","width","clientWidth","number","integer","toFixed","toPrecision","x","p","parseFloat","elem","selector","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","constructions","localStorage","getItem","JSON","parse","getConstructions","entry","setItem","stringify","newCons","every","splice","removeItem","csvHeaders","csvBody","c","c_idx","unshift","csv_data","split","shift","c_id","saveConstruction","t","k","csv","JSONtoCSV","hiddenElement","createElement","href","encodeURIComponent","download","click","fileList","file","reader","FileReader","readAsText","onload","CSVtoConstruction","result","onloadend","onerror","error","dataset","get_dataset","ctx","getContext","myChart","Chart","type","labels","datasets","options","legend","display","onClick","filter","state","text","label","datasetIndex","items","some","includes","scales","yAxes","categoryPercentage","barPercentage","position","xAxes","scaleLabel","labelString","ticks","stepSize","maxRotation","callback","index","values","afterBuildTicks","axis","arr","limit","tooltips","mode","callbacks","title","tooltipItem","supportingLayerNames","y","String","fromCharCode","layer_idx","indexOf","x_pos","slice","precise","fixed","tempDataLength","tooltip","xLabel","responsive","helpers","each","instances","instance","destroy","t_o","t_i","calculateIntermediateTemps","yAxisID","lineTension","borderWidth","borderColor","pointStyle","pointBorderColor","pointBackgroundColor","backgroundColor","min","Math","round","max","fontColor","update","u_value","Q_area","calculateQ_area","xMin","xMax","temps","t_n","ext_air","stack","int_air","surface","surfaceResistanceEnabled","r_ext","randomColor","r_int","h","w","clearRect","offset","lineWidth","strokeRect","font","textAlign","fillStyle","innerWidth","fillText","category","names","addRowAbove","closest","rowIndex","newRow","insertRow","rowInnerHTML","cell","table_body","rowtype","new_row","cavityRowInnerHTML","appendChild","body","historyTable","addToHistory","badgeFormatter","list","class_options","formatNumberLength","style","fields","field","numDigits","u","r_t","u_t","r_surface","getSurfaceResistance","r_total","calcTotalR","unit","els","concat","colorList","colors"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,mC;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,gC;;;;;;;;;;;ACJA,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA,iBAAiB,mBAAO,CAAC,0EAAqB;;;;;;;;;;;;ACA9C,2BAA2B,mBAAO,CAAC,wGAAmD;AACtF;AACA,cAAc,QAAS,wEAAwE,uBAAuB,KAAK,iEAAiE,kCAAkC,KAAK,eAAe,oCAAoC,KAAK,cAAc,6BAA6B,KAAK,eAAe,gCAAgC,KAAK,iBAAiB,wBAAwB,KAAK,qCAAqC,qBAAqB,EAAE,8CAA8C,0BAA0B,wBAAwB,KAAK,iDAAiD,0BAA0B,KAAK,aAAa,kCAAkC,KAAK,mBAAmB,sBAAsB,uBAAuB,KAAK,8FAA8F,kCAAkC,KAAK;;;;;;;;;;;;;ACF/4B;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,2CAA2C,qBAAqB;AAChE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrtBa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA,YAAY,2BAA2B;AACvC;AACA;;AAEA,YAAY,uBAAuB;AACnC;AACA;AACA,KAAK;AACL;;AAEA,YAAY,uBAAuB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,kCAAkC;;AAElC;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,wFAAwF;AACxF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,uBAAuB,4BAA4B;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzRA;CAGA;;AACA;AACA;AACA;AACA;CAGA;;AACAA,MAAM,CAACC,EAAP,GAAYA,iDAAZ;AACAD,MAAM,CAACE,KAAP,GAAeA,oDAAf;AACAF,MAAM,CAACG,YAAP,GAAsBA,2DAAtB;AACAH,MAAM,CAACI,OAAP,GAAiBA,sDAAjB;AACAJ,MAAM,CAACK,OAAP,GAAiBA,sDAAjB,C,CAIA;;AACAC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCC,gBAAxC,CAAyD,OAAzD,EAAkE,UAAAC,CAAC,EAAI;AACnER,mDAAE,CAACS,mBAAH,CAAuBD,CAAC,CAACE,MAAzB;AACH,CAFD,E,CAIA;;AACAL,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,gBAA1C,CAA2D,OAA3D,EAAoE,UAAAC,CAAC,EAAI;AACrE,MAAMG,SAAS,GAAGN,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCA,aAAxC,CAAsD,OAAtD,CAAlB;AACAN,mDAAE,CAACY,gBAAH,CAAoBD,SAApB,EAA+B,QAA/B;AACH,CAHD,E,CAKA;AACA;;AACA,IAAME,eAAe,GAAG,IAAIC,KAAJ,CAAU,WAAV,CAAxB;AAEAT,QAAQ,CAACE,gBAAT,CAA0B,WAA1B,EAAuC,UAAAC,CAAC,EAAI;AACxCO,SAAO,CAACC,GAAR,CAAY,YAAZ,EADwC,CAExC;;AACA,MAAMC,KAAK,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCA,aAAxC,CAAsD,OAAtD,CAAd,CAHwC,CAKxC;;AACA,MAAMY,OAAO,GAAGd,sDAAO,CAACe,qBAAR,CAA8BF,KAA9B,CAAhB;;AACA,MAAG,CAACC,OAAJ,EAAY;AACRE,SAAK,CAAC,SAAD,CAAL;AACA;AACH,GAHD,MAGO;AACH;AACAhB,0DAAO,CAACiB,oBAAR,CAA6BJ,KAA7B,EAFG,CAIH;;AACA,QAAMK,iBAAiB,GAAGlB,sDAAO,CAACmB,4BAAR,CAAqCN,KAArC,CAA1B;AACA,QAAMO,UAAU,GAAGpB,sDAAO,CAACqB,yBAAR,CAAkCR,KAAlC,CAAnB;AACA,QAAMS,eAAe,GAAGtB,sDAAO,CAACuB,iBAAR,CAA0BV,KAA1B,CAAxB;;AAEA,QAAG,CAACO,UAAJ,EAAe;AACXJ,WAAK,CAAC,wDAAD,CAAL;AACA;AACH,KAHD,MAGO,IAAG,CAACE,iBAAJ,EAAsB;AACzBF,WAAK,CAAC,wGAAD,CAAL;AACA;AACH,KAHM,MAGA,IAAG,CAACM,eAAJ,EAAoB;AACvBN,WAAK,CAAC,+CAAD,CAAL;AACA;AACH,KAHM,MAGA;AACH;AACA,UAAMQ,SAAS,GAAGxB,sDAAO,CAACyB,yBAAR,CAAkCZ,KAAlC,CAAlB,CAFG,CAGH;;AACA,UAAMa,YAAY,GAAG,IAAI5B,2DAAJ,CAAiB0B,SAAS,CAAC,CAAD,CAA1B,EAA+BA,SAAS,CAAC,CAAD,CAAxC,EAA6CA,SAAS,CAAC,CAAD,CAAtD,CAArB;AACAb,aAAO,CAACC,GAAR,CAAYc,YAAZ,EALG,CAOH;;AACA7B,0DAAK,CAAC8B,WAAN,GARG,CASH;;AACA,UAAMC,KAAK,GAAG/B,oDAAK,CAACgC,UAAN,CAAiBH,YAAjB,CAAd,CAVG,CAYH;;AACA,UAAMI,SAAS,GAAG9B,sDAAO,CAAC+B,YAAR,EAAlB,CAbG,CAcH;;AACAlC,0DAAK,CAACmC,gBAAN,OAAAnC,oDAAK,GAAkB6B,YAAlB,EAAgCE,KAAhC,yFAA0CE,SAA1C,GAAL,CAfG,CAiBH;;AACAlC,uDAAE,CAACqC,0BAAH,CAA8BP,YAA9B,EAlBG,CAoBH;;AACA3B,4DAAO,CAACmC,eAAR,CAAwBR,YAAxB,EArBG,CAsBH;;AACA9B,uDAAE,CAACuC,eAAH;AACH;AACJ;AAEJ,CAvDD;AAyDAlC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,gBAArC,CAAsD,OAAtD,EAA+D,UAAAC,CAAC,EAAI;AAChEH,UAAQ,CAACmC,aAAT,CAAuB3B,eAAvB;AACH,CAFD,E,CAIA;;AACAR,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,gBAAnC,CAAoD,OAApD,EAA6D,UAAAC,CAAC,EAAI;AAC9D;AACA,MAAGA,CAAC,CAACE,MAAF,CAAS+B,OAAT,KAAqB,OAArB,IAAgCjC,CAAC,CAACE,MAAF,CAASgC,SAAT,KAAuB,QAA1D,EAAmE;AAAE;AAAQ,GAFf,CAG9D;;;AACA,MAAMC,GAAG,GAAGvC,sDAAO,CAACwC,UAAR,CAAmBpC,CAAC,CAACE,MAArB,EAA6B,IAA7B,CAAZ,CAJ8D,CAK9D;;AACA,MAAGiC,GAAG,CAACE,aAAJ,CAAkBJ,OAAlB,KAA8B,OAAjC,EAAyC;AAAE;AAAQ,GANW,CAO9D;;;AACA,MAAMK,EAAE,GAAGH,GAAG,CAACrC,aAAJ,CAAkB,OAAlB,EAA2BoC,SAAtC,CAR8D,CAS9D;;AACA,MAAMZ,YAAY,GAAG3B,sDAAO,CAAC4C,mBAAR,CAA4BD,EAA5B,CAArB,CAV8D,CAW9D;;AACA,MAAGhB,YAAH,EAAgB;AACZ9B,qDAAE,CAACgD,kCAAH,CAAsClB,YAAtC;AACAzB,YAAQ,CAACmC,aAAT,CAAuB3B,eAAvB;AACAoC,KAAC,CAACC,YAAY,EAAb,CAAD;AACH;AAEJ,CAlBD,E,CAoBA;;AACA7C,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,gBAApC,CAAqD,OAArD,EAA8D,YAAK;AAC/D4C,cAAY,CAACC,SAAb;AACH,CAFD,E,CAIA;;AACA/C,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,gBAAjC,CAAkD,OAAlD,EAA2D,YAAM;AAC7D;AACA,MAAM8C,UAAU,GAAGhD,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAnB;AACA,MAAMK,SAAS,GAAGX,iDAAE,CAACsD,cAAH,CAAkBD,UAAlB,CAAlB;AACAJ,GAAC,CAACC,YAAY,EAAb,CAAD,CAJ6D,CAK7D;;AACA,OAAI,IAAIK,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EAA0B;AACtBvD,qDAAE,CAACY,gBAAH,CAAoBD,SAApB;AACH,GAR4D,CAS7D;;;AACAV,sDAAK,CAAC8B,WAAN,GAV6D,CAW7D;;AACA9B,sDAAK,CAACuD,kBAAN,GAZ6D,CAc7D;;AACAxD,mDAAE,CAACyD,wBAAH;AACH,CAhBD,E,CAmBA;;AACApD,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,gBAAzC,CAA0D,OAA1D,EAAmE,YAAM;AACrE;AACAJ,wDAAO,CAACuD,kBAAR,GAFqE,CAGrE;;AACA1D,mDAAE,CAACuC,eAAH;AACH,CALD,E,CAOA;;AACAxC,MAAM,CAACQ,gBAAP,CAAwB,MAAxB,EAAgC,YAAM;AAClC;AACA,MAAMoD,MAAM,GAAGtD,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAf;AACAF,wDAAO,CAACwD,oBAAR,CAA6BD,MAA7B,EAHkC,CAIlC;;AACA1D,sDAAK,CAACuD,kBAAN,GALkC,CAOlC;;AACAxD,mDAAE,CAACuC,eAAH;AACH,CATD;AAUAxC,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkC,YAAM;AACpC;AACA,MAAMoD,MAAM,GAAGtD,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAf;AACAF,wDAAO,CAACwD,oBAAR,CAA6BD,MAA7B,EAHoC,CAIpC;;AACA1D,sDAAK,CAACuD,kBAAN;AACH,CAND,E,CAQA;;AACAnD,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,gBAAzC,CAA0D,OAA1D,EAAmE,YAAM;AACrE;AACA;AACAF,UAAQ,CAACmC,aAAT,CAAuB3B,eAAvB,EAHqE,CAKrE;;AACA,MAAMgD,MAAM,GAAGxD,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAf,CANqE,CAOrE;;AACA,MAAMwD,GAAG,GAAGzD,QAAQ,CAACC,aAAT,CAAuB,qBAAvB,CAAZ,CARqE,CASrE;;AACA,MAAMyD,MAAM,GAAGD,GAAG,CAACE,gBAAJ,CAAqB,OAArB,CAAf,CAVqE,CAWrE;;AACAD,QAAM,CAACE,OAAP,CAAe,UAACC,KAAD,EAAW;AACtBA,SAAK,CAACC,QAAN,GAAiB,CAACN,MAAM,CAACO,OAAzB;AACAF,SAAK,CAACG,SAAN,CAAgBR,MAAhB,CAAuB,WAAvB;AACH,GAHD;AAKH,CAjBD,E,CAmBA;;AACAxD,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCC,gBAAxC,CAAyD,OAAzD,EAAkE,YAAM;AACpE;AACA;AACAF,UAAQ,CAACmC,aAAT,CAAuB3B,eAAvB;AACH,CAJD,E,CAMA;;AACAR,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,gBAAnC,CAAoD,OAApD,EAA6D,UAAAC,CAAC,EAAI;AAC9D,MAAGA,CAAC,CAAC8D,OAAF,KAAc,EAAjB,EAAoB;AAAEC,qBAAiB,CAAC/D,CAAD,CAAjB;AAAsB;AAC/C,CAFD;AAIAH,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,gBAAnC,CAAoD,OAApD,EAA6D,UAAAC,CAAC,EAAI;AAC9D;AACA,MAAGA,CAAC,CAACE,MAAF,CAAS+B,OAAT,IAAoB,OAAvB,EAA+B;AAC3B;AACAjC,KAAC,CAACE,MAAF,CAASH,gBAAT,CAA0B,MAA1B,EAAkC,YAAM;AACpC;AACAgE,uBAAiB,CAAC/D,CAAD,CAAjB;AACH,KAHD,EAGG;AAAEgE,UAAI,EAAE;AAAR,KAHH;AAIH;AACJ,CATD;;AAWA,SAASD,iBAAT,CAA2B/D,CAA3B,EAA6B;AACzB;AACA,MAAMiE,IAAI,GAAGjE,CAAC,CAACE,MAAF,CAASgE,KAAtB,CAFyB,CAGzB;;AACA,MAAM/B,GAAG,GAAGnC,CAAC,CAACE,MAAF,CAASmC,aAAT,CAAuBA,aAAnC;AACA,MAAMC,EAAE,GAAGH,GAAG,CAACrC,aAAJ,CAAkB,OAAlB,EAA2BoC,SAAtC,CALyB,CAMzB;;AACAvC,wDAAO,CAACwE,sBAAR,CAA+B7B,EAA/B,EAAmC2B,IAAnC;AACH,C,CAED;;;AACApE,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,gBAAnC,CAAoD,OAApD,EAA6D,UAAAC,CAAC,EAAI;AAC9D;AACA,MAAGA,CAAC,CAACE,MAAF,CAASgC,SAAT,KAAuB,QAA1B,EAAmC;AAC/B;AACA,QAAMC,GAAG,GAAGvC,sDAAO,CAACwC,UAAR,CAAmBpC,CAAC,CAACE,MAArB,EAA6B,IAA7B,CAAZ,CAF+B,CAG/B;;AACA,QAAMoC,EAAE,GAAGH,GAAG,CAACrC,aAAJ,CAAkB,OAAlB,EAA2BoC,SAAtC,CAJ+B,CAK/B;;AACAvC,0DAAO,CAACyE,kBAAR,CAA2B9B,EAA3B,EAN+B,CAO/B;;AACA9C,qDAAE,CAACuC,eAAH;AACF;AACL,CAZD,E,CAaA;;AACAlC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,gBAA1C,CAA2D,OAA3D,EAAoE,YAAM;AACtE;AACAF,UAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuC+D,SAAvC,CAAiDR,MAAjD,CAAwD,WAAxD,EAFsE,CAGtE;;AACA,MAAMgB,GAAG,GAAGxE,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAZ;AACA,MAAMwE,OAAO,GAAGD,GAAG,CAACvE,aAAJ,CAAkB,MAAlB,CAAhB;AACA,MAAMyE,OAAO,GAAGF,GAAG,CAACvE,aAAJ,CAAkB,GAAlB,CAAhB;;AAEA,MAAGwE,OAAO,CAACE,WAAR,KAAwB,cAA3B,EAA0C;AACtCF,WAAO,CAACE,WAAR,GAAsB,gBAAtB;AACAD,WAAO,CAACV,SAAR,CAAkBY,MAAlB,CAAyB,eAAzB;AACAF,WAAO,CAACV,SAAR,CAAkBa,GAAlB,CAAsB,aAAtB;AACH,GAJD,MAIO;AACHJ,WAAO,CAACE,WAAR,GAAsB,cAAtB;AACAD,WAAO,CAACV,SAAR,CAAkBY,MAAlB,CAAyB,aAAzB;AACAF,WAAO,CAACV,SAAR,CAAkBa,GAAlB,CAAsB,eAAtB;AACH;AACJ,CAjBD,E,CAmBA;;AACA7E,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,gBAA1C,CAA2D,OAA3D,EAAoE,YAAM;AACtEJ,wDAAO,CAACgF,mBAAR;AACH,CAFD,E,CAIA;;AACA9E,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CC,gBAA1C,CAA2D,QAA3D,EAAqE,UAAAC,CAAC,EAAI;AACtE;AACA,MAAM4E,QAAQ,GAAGC,OAAO,CAAC,iCAAD,CAAxB;;AACA,MAAGD,QAAH,EAAY;AACR;AACAjF,0DAAO,CAACuD,kBAAR,GAFQ,CAGR;;AACAvD,0DAAO,CAACmF,2BAAR,CAAoC9E,CAAC,CAACE,MAAF,CAAS6E,KAA7C;AACH;AACJ,CATD,E,CAWA;;IACMpC,Y;;;;;;;;;gCACiB;AACf;AACA,UAAMqC,IAAI,GAAG,IAAItF,2DAAJ,CAAiB,CAAC,OAAD,EAAU,MAAV,EAAkB,SAAlB,CAAjB,EAA+C,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAA/C,EAA0D,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAA1D,CAAb,CAFe,CAGf;;AACAF,uDAAE,CAACgD,kCAAH,CAAsCwC,IAAtC;AACAnF,cAAQ,CAACmC,aAAT,CAAuB3B,eAAvB,EALe,CAMf;;AACAV,4DAAO,CAACwE,sBAAR,CAA+Ba,IAAI,CAACC,QAApC,EAA8C,0BAA9C,EAPe,CAQf;;AACAzF,uDAAE,CAACuC,eAAH,GATe,CAUf;;AACAW,kBAAY;AACf;;;;;;AAGL,SAASA,YAAT,GAAuB;AACnBD,GAAC,CAAC,WAAD,CAAD,CAAeyC,QAAf;AACH,C;;;;;;;;;;;ACnSD,cAAc,mBAAO,CAAC,qHAAuD;;AAE7E;AACA,cAAc,QAAS;AACvB;;AAEA;;AAEA;AACA;;AAEA,aAAa,mBAAO,CAAC,sJAA2E;;AAEhG;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACfA;IACqBxF,Y;;;AACjB,wBAAYyF,SAAZ,EAAuBC,WAAvB,EAAoCC,MAApC,EAA2C;AAAA;;AACvC,SAAKF,SAAL,GAAiBA,SAAjB;AACA,SAAKC,WAAL,GAAmBA,WAAW,CAACE,GAAZ,CAAgBC,MAAhB,CAAnB;AACA,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKG,MAAL,GAAc9F,YAAY,CAAC+F,YAAb,CAA0BL,WAA1B,EAAuCC,MAAvC,CAAd;AACA,SAAKK,OAAL,GAAehG,YAAY,CAACiG,UAAb,CAAwBP,WAAxB,EAAqCC,MAArC,CAAf;AACA,SAAKO,SAAL,GAAiBR,WAAW,CAACS,MAAZ,CAAmB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAE,aAAOD,GAAG,GAAGP,MAAM,CAACQ,GAAD,CAAnB;AAA0B,KAA7D,EAA+D,CAA/D,CAAjB;AACA,SAAKd,QAAL,GAAgBvF,YAAY,CAACsG,WAAb,CAAyBb,SAAzB,EAAoCC,WAApC,EAAiDC,MAAjD,CAAhB;AACH;;;;sBAEQY,C,EAAE;AACP,WAAKC,KAAL,GAAaD,CAAb;AACH,K;wBAES;AACN,aAAO,KAAKC,KAAZ;AACH;;;wBAEa;AACV,aAAO,IAAE,KAAKR,OAAd;AACH;;;4BAEcpE,Y,EAAc;AACzB,aAAO,IAAEA,YAAY,CAACoE,OAAtB;AACH;;;+BAEiBN,W,EAAaC,M,EAAO;AAClC,UAAIc,KAAK,GAAG,CAAZ;AACAf,iBAAW,CAAC3B,OAAZ,CAAoB,UAACmC,SAAD,EAAYQ,GAAZ,EAAoB;AACpC;AACA,YAAGf,MAAM,CAACe,GAAD,CAAN,KAAc,EAAjB,EAAoB;AAChBD,eAAK,IAAIzG,YAAY,CAAC2G,kBAAb,CAAgCT,SAAhC,CAAT;AACH,SAFD,MAEO;AACHO,eAAK,IAAI,QAAMP,SAAN,GAAgBP,MAAM,CAACe,GAAD,CAA/B,CADG,CAEH;AACH;AACJ,OARD;AASA,aAAOD,KAAP;AACH,K,CAED;;;;gCACmBX,M,EAAO;AACtB,aAAOA,MAAM,CAACK,MAAP,CAAc,UAACC,GAAD,EAAMQ,IAAN,EAAe;AAAER,WAAG,GAAGQ,IAAN;AAAY,OAA3C,EAA6C,CAA7C,CAAP;AACH;;;iCAEmBlB,W,EAAaC,M,EAAO;AACpC,UAAIG,MAAM,GAAG,EAAb;AACAJ,iBAAW,CAAC3B,OAAZ,CAAoB,UAACmC,SAAD,EAAYQ,GAAZ,EAAoB;AACpC;AACA,YAAGf,MAAM,CAACe,GAAD,CAAN,KAAc,EAAjB,EAAoB;AAChBZ,gBAAM,CAACe,IAAP,CAAY7G,YAAY,CAAC2G,kBAAb,CAAgCT,SAAhC,CAAZ;AACH,SAFD,MAEO;AACP;AACIJ,gBAAM,CAACe,IAAP,CAAY,QAAMX,SAAN,GAAgBP,MAAM,CAACe,GAAD,CAAlC;AACH;AACJ,OARD;AASA,aAAOZ,MAAP;AACH;;;gCAEkBL,S,EAAWC,W,EAAaC,M,EAAQ;AAC/C,UAAMmB,OAAO,GAAG,EAAhB;AACArB,eAAS,CAAC1B,OAAV,CAAkB,UAACgD,QAAD,EAAWL,GAAX,EAAmB;AACjCI,eAAO,CAACD,IAAR,CAAa;AAAE,eAAKE,QAAP;AAAiB,eAAK,CAACrB,WAAW,CAACgB,GAAD,CAAZ,EAAmBf,MAAM,CAACe,GAAD,CAAzB;AAAtB,SAAb;AACH,OAFD,EAF+C,CAK/C;;AACAI,aAAO,CAACE,IAAR,CAAa,UAASC,CAAT,EAAYC,CAAZ,EAAc;AACvB,YAAMC,KAAK,GAAGF,CAAC,CAACG,CAAF,CAAIC,WAAJ,EAAd,CADuB,CACU;;AACjC,YAAMC,KAAK,GAAGJ,CAAC,CAACE,CAAF,CAAIC,WAAJ,EAAd,CAFuB,CAEU;;AACjC,YAAIF,KAAK,GAAGG,KAAZ,EAAmB;AACf,iBAAO,CAAC,CAAR;AACH;;AACD,YAAIH,KAAK,GAAGG,KAAZ,EAAmB;AACf,iBAAO,CAAP;AACH,SARsB,CASvB;;;AACA,eAAO,CAAP;AACH,OAXD,EAN+C,CAkB/C;;AACA,UAAMC,MAAM,GAAG,EAAf;AACAT,aAAO,CAAC/C,OAAR,CAAgB,UAAAyD,KAAK,EAAI;AACrBD,cAAM,CAACV,IAAP,CAAY,CAACW,KAAK,CAACJ,CAAP,EAAUI,KAAK,CAACC,CAAN,CAAQC,IAAR,CAAa,GAAb,CAAV,EAA6BA,IAA7B,CAAkC,GAAlC,CAAZ;AACH,OAFD;AAGA,aAAOH,MAAM,CAACG,IAAP,CAAY,GAAZ,CAAP;AACH,K,CAED;AACA;;;;uCAC0BD,C,EAAG;AACzB,UAAMvB,SAAS,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,EAAV,EAAc,EAAd,EAAkB,EAAlB,EAAsB,KAAtB,CAAlB;AAAA,UACMyB,CAAC,GAAG,CAAC,CAAD,EAAI,IAAJ,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,CADV;;AAGA,UAAMC,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD,EAAO;AACxB;AACA,YAAMf,GAAG,GAAGR,SAAS,CAAC2B,SAAV,CAAoB,UAASC,IAAT,EAAc;AAAE,iBAAOA,IAAI,GAAGL,CAAd;AAAiB,SAArD,CAAZ,CAFwB,CAGxB;;AACA,eAAOE,CAAC,CAACjB,GAAG,GAAC,CAAL,CAAD,GAAW,CAACiB,CAAC,CAACjB,GAAD,CAAD,GAAOiB,CAAC,CAACjB,GAAG,GAAC,CAAL,CAAT,KAAmB,CAACe,CAAC,GAACvB,SAAS,CAACQ,GAAG,GAAC,CAAL,CAAZ,KAAsBR,SAAS,CAACQ,GAAD,CAAT,GAAeR,SAAS,CAACQ,GAAG,GAAC,CAAL,CAA9C,CAAnB,CAAlB;AACH,OALD;;AAOA,aAAOkB,YAAY,CAACH,CAAD,CAAnB;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICrGgBvH,O;;;;;;;;;0CACYa,K,EAAO;AAChC;AACA,UAAMgH,UAAU,GAAGhH,KAAK,CAACiH,IAAzB,CAFgC,CAIhC;;AACA,WAAI,IAAI3E,CAAC,GAAG0E,UAAU,CAACE,MAAX,GAAkB,CAA9B,EAAiC5E,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA6C;AAEzC;AACA,YAAI6E,KAAK,GAAGH,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAA1B,CAHyC,CAKzC;;AACA,YAAGA,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,IAA8B,EAA9B,IAAoC0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,IAA8B,EAAlE,IAAwE0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,IAA8B,EAAzG,EAA4G;AACxG,iBAAO,IAAP;AACH;AACJ,OAd+B,CAehC;;;AACA,aAAO,KAAP;AACH,K,CAED;;;;8CACiCzD,K,EAAO;AACpC;AACA,UAAMgH,UAAU,GAAGhH,KAAK,CAACiH,IAAzB,CAFoC,CAIpC;;AACA,WAAI,IAAI3E,CAAC,GAAG0E,UAAU,CAACE,MAAX,GAAkB,CAA9B,EAAiC5E,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA6C;AAEzC;AACA,YAAI6E,KAAK,GAAGH,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAA1B,CAHyC,CAKzC;;AACA,YAAGH,UAAU,CAAC1E,CAAD,CAAV,CAAcc,SAAd,CAAwBiE,QAAxB,CAAiC,QAAjC,CAAH,EAA8C;AAC1C;AACA,cAAGF,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAA/B,IAAqC0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAAvE,EAA0E;AACtE,mBAAO,KAAP;AACH;AACJ,SALD,MAKO;AACH;AACA,cAAG0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAA/B,IAAqC0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAApE,IAA0E0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAA5G,EAA+G;AAC3G,mBAAO,KAAP;AACH;AACJ;AACJ;;AACD,aAAO,IAAP;AACH,K,CAED;;;;iDACoCzD,K,EAAO;AACvC;AACA,UAAMgH,UAAU,GAAGhH,KAAK,CAACiH,IAAzB,CAFuC,CAIvC;;AACA,WAAI,IAAI3E,CAAC,GAAG0E,UAAU,CAACE,MAAX,GAAkB,CAA9B,EAAiC5E,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA6C;AAEzC;AACA,YAAI6E,KAAK,GAAGH,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAA1B,CAHyC,CAKzC;;AACA,YAAGH,UAAU,CAAC1E,CAAD,CAAV,CAAcc,SAAd,CAAwBiE,QAAxB,CAAiC,QAAjC,CAAH,EAA+C;AAC3C;AACA,cAAG,CAACvC,MAAM,CAACqC,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAAtB,CAAV,EAAuC;AACnC,mBAAO,KAAP;AACH,WAFD,MAEO,IAAG0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,GAA6B,CAA7B,IAAkC0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,GAA6B,GAAlE,EAAuE;AAC1E;AACA;AACA,mBAAO,KAAP;AACH;AACJ,SATD,MASO;AACH;AACA,cAAG,CAACqB,MAAM,CAACqC,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAAtB,CAAP,IAAuC,CAACqB,MAAM,CAACqC,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAAtB,CAAjD,EAA8E;AAC1E,mBAAO,KAAP;AACH;AACJ;AACJ;;AACD,aAAO,IAAP;AACH,K,CAED;;;;sCACyBzD,K,EAAO;AAC5B;AACA,UAAMgH,UAAU,GAAGhH,KAAK,CAACiH,IAAzB,CAF4B,CAG5B;;AACA,UAAIK,OAAO,GAAG,IAAd;;AACA,WAAI,IAAI3B,GAAG,GAAG,CAAd,EAAiBA,GAAG,GAAGqB,UAAU,CAACE,MAAlC,EAA0CvB,GAAG,EAA7C,EAAiD;AAC7C,YAAMjE,GAAG,GAAGsF,UAAU,CAACrB,GAAD,CAAtB,CAD6C,CAE7C;;AACA,YAAGA,GAAG,KAAG,CAAN,IAAWjE,GAAG,CAAC0B,SAAJ,CAAciE,QAAd,CAAuB,QAAvB,CAAd,EAAgD;AAC5CC,iBAAO,GAAG,KAAV;AACH,SAFD,MAEO,IAAG3B,GAAG,KAAKqB,UAAU,CAACE,MAAX,GAAkB,CAA1B,IAA+BxF,GAAG,CAAC0B,SAAJ,CAAciE,QAAd,CAAuB,QAAvB,CAAlC,EAAoE;AACvEC,iBAAO,GAAG,KAAV;AACH,SAFM,MAEA,IAAG5F,GAAG,CAAC0B,SAAJ,CAAciE,QAAd,CAAuB,QAAvB,CAAH,EAAoC;AACvC;AACA,cAAGL,UAAU,CAACrB,GAAG,GAAC,CAAL,CAAV,CAAkBvC,SAAlB,CAA4BiE,QAA5B,CAAqC,QAArC,CAAH,EAAkD;AAC9CC,mBAAO,GAAG,KAAV;AACH;AACJ;AACJ;;AACD,aAAOA,OAAP;AAEH;;;yCAE2BtH,K,EAAO;AAC/B;AACA,UAAMgH,UAAU,GAAGhH,KAAK,CAACiH,IAAzB,CAF+B,CAI/B;;AACA,WAAI,IAAI3E,CAAC,GAAG0E,UAAU,CAACE,MAAX,GAAkB,CAA9B,EAAiC5E,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA6C;AAEzC;AACA,YAAI6E,KAAK,GAAGH,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAA1B,CAHyC,CAKzC;;AACA,YAAGA,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAA/B,IAAqC0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAApE,IAA0E0D,KAAK,CAAC,CAAD,CAAL,CAASC,QAAT,CAAkB,CAAlB,EAAqB3D,KAArB,KAA+B,EAA5G,EAA+G;AAC3G1E,YAAE,CAACwI,SAAH,CAAaP,UAAU,CAAC1E,CAAD,CAAvB;AACH;AACJ;AACJ;;;8CAEgCtC,K,EAAM;AACnC;AACA,UAAMgH,UAAU,GAAGhH,KAAK,CAACiH,IAAzB,CAFmC,CAInC;;AACA,UAAIvC,SAAS,GAAG,EAAhB;AACA,UAAIC,WAAW,GAAG,EAAlB;AACA,UAAIC,MAAM,GAAG,EAAb,CAPmC,CASnC;;AACA,WAAI,IAAItC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAG0E,UAAU,CAACE,MAA5B,EAAoC5E,CAAC,EAArC,EAAwC;AACpCoC,iBAAS,CAACoB,IAAV,CAAekB,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAAd,CAAoB,CAApB,EAAuBC,QAAvB,CAAgC,CAAhC,EAAmC3D,KAAlD;AACAkB,mBAAW,CAACmB,IAAZ,CAAiBkB,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAAd,CAAoB,CAApB,EAAuBC,QAAvB,CAAgC,CAAhC,EAAmC3D,KAApD;AACAmB,cAAM,CAACkB,IAAP,CAAYkB,UAAU,CAAC1E,CAAD,CAAV,CAAc6E,KAAd,CAAoB,CAApB,EAAuBC,QAAvB,CAAgC,CAAhC,EAAmC3D,KAA/C;AACH;;AAAA;AAED,aAAO,CAACiB,SAAD,EAAYC,WAAZ,EAAyBC,MAAzB,CAAP;AACH;;;yCAE2B4C,E,EAAI;AAC5B,UAAMC,MAAM,GAAGD,EAAE,CAACE,UAAlB;AACAF,QAAE,CAACG,MAAH,GAAYF,MAAM,CAACG,YAAnB;AACAJ,QAAE,CAACK,KAAH,GAAWJ,MAAM,CAACK,WAAlB;AACH;;;mCAEqB;AAClB,UAAMtB,MAAM,GAAG,EAAf;AACAA,YAAM,CAACV,IAAP,CAAYhB,MAAM,CAAC1F,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCoE,KAAzC,CAAlB;AACA+C,YAAM,CAACV,IAAP,CAAYhB,MAAM,CAAC1F,QAAQ,CAACC,aAAT,CAAuB,cAAvB,EAAuCoE,KAAxC,CAAlB;AACA,aAAO+C,MAAP;AACH;;;uCAEyBuB,M,EAAQb,M,EAAQ;AACtC;AACA,UAAGa,MAAM,KAAG,EAAZ,EAAe;AAAE,eAAO,EAAP;AAAW,OAFU,CAGtC;;;AACA,UAAMC,OAAO,GAAGD,MAAM,CAACE,OAAP,CAAe,CAAf,CAAhB,CAJsC,CAKtC;;AACA,UAAGD,OAAO,KAAG,GAAb,EAAiB;AACb,eAAOD,MAAM,CAACE,OAAP,CAAef,MAAM,GAAC,CAAtB,CAAP;AACH,OAFD,MAEO;AACH;AACA,eAAOa,MAAM,CAACG,WAAP,CAAmBhB,MAAnB,CAAP;AACH;AACJ;;;4BAEciB,C,EAAS;AAAA,UAANC,CAAM,uEAAF,CAAE;AACpB,aAAOtD,MAAM,CAACuD,UAAP,CAAkBF,CAAlB,EAAqBD,WAArB,CAAiCE,CAAjC,CAAP;AACH;;;0BACYD,C,EAAS;AAAA,UAANC,CAAM,uEAAF,CAAE;AAClB,aAAOtD,MAAM,CAACuD,UAAP,CAAkBF,CAAlB,EAAqBF,OAArB,CAA6BG,CAA7B,CAAP;AACH,K,CAED;;;;+BACmBE,I,EAAMC,Q,EAAW;AAEhC;AACA,UAAI,CAACC,OAAO,CAACC,SAAR,CAAkBC,OAAvB,EAAgC;AAC5BF,eAAO,CAACC,SAAR,CAAkBC,OAAlB,GACIF,OAAO,CAACC,SAAR,CAAkBE,eAAlB,IACAH,OAAO,CAACC,SAAR,CAAkBG,kBADlB,IAEAJ,OAAO,CAACC,SAAR,CAAkBI,iBAFlB,IAGAL,OAAO,CAACC,SAAR,CAAkBK,gBAHlB,IAIAN,OAAO,CAACC,SAAR,CAAkBM,qBAJlB,IAKA,UAASC,CAAT,EAAY;AACR,cAAMN,OAAO,GAAG,CAAC,KAAKtJ,QAAL,IAAiB,KAAK6J,aAAvB,EAAsClG,gBAAtC,CAAuDiG,CAAvD,CAAhB;AAAA,cACI1G,CAAC,GAAGoG,OAAO,CAACxB,MADhB;;AAEA,iBAAO,qFAAE5E,CAAF,KAAO,CAAP,IAAYoG,OAAO,CAAC3B,IAAR,CAAazE,CAAb,MAAoB,IAAvC,EAA6C,CAAE;;AAC/C,iBAAOA,CAAC,GAAG,CAAC,CAAZ;AACH,SAXL;AAYH,OAhB+B,CAkBhC;;;AACA,aAAQgG,IAAI,IAAIA,IAAI,KAAKlJ,QAAzB,EAAmCkJ,IAAI,GAAGA,IAAI,CAACZ,UAA/C,EAA4D;AACxD,YAAKY,IAAI,CAACI,OAAL,CAAcH,QAAd,CAAL,EAAgC,OAAOD,IAAP;AACnC;;AAED,aAAO,IAAP;AAEH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtML;CAGA;;IACqBpJ,O;;;;;;;;;AACjB;uCAC0B;AACtB,UAAIgK,aAAJ;;AACA,UAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,MAA0C,IAA7C,EAAmD;AAC/CF,qBAAa,GAAG,EAAhB;AACH,OAFD,MAEO;AACHA,qBAAa,GAAGG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CAAhB;AACH;;AACD,aAAOF,aAAP;AACH,K,CAED;;;;wCAC2BrH,E,EAAI;AAC3B,UAAMqH,aAAa,GAAGhK,OAAO,CAACqK,gBAAR,EAAtB;AAD2B;AAAA;AAAA;;AAAA;AAE3B,6BAAyBL,aAAzB,8HAAwC;AAAA,cAA/BrI,YAA+B;;AACpC,cAAGA,YAAY,CAAC2D,QAAb,IAAyB3C,EAA5B,EAA+B;AAC3B,mBAAOhB,YAAP;AACH;AACJ;AAN0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO3Bf,aAAO,CAACC,GAAR,CAAY,iDAAZ;AACA,aAAO,KAAP;AACH,K,CAED;;;;2CAC8B8B,E,EAAI2B,I,EAAM;AACpC;AACA,UAAM0F,aAAa,GAAGhK,OAAO,CAACqK,gBAAR,EAAtB,CAFoC,CAGpC;;AACAL,mBAAa,CAAClG,OAAd,CAAsB,UAACwG,KAAD,EAAQ7D,GAAR,EAAgB;AAClC,YAAG6D,KAAK,CAAChF,QAAN,KAAmB3C,EAAtB,EAAyB;AACrB;AACAqH,uBAAa,CAACvD,GAAD,CAAb,CAAmBnC,IAAnB,GAA0BA,IAA1B;AACH;AACJ,OALD,EAJoC,CAUpC;;AACA2F,kBAAY,CAACM,OAAb,CAAqB,eAArB,EAAsCJ,IAAI,CAACK,SAAL,CAAeR,aAAf,CAAtC;AACH,K,CAED;;;;oCACuBrI,Y,EAAc;AACjC;AACA,UAAMqI,aAAa,GAAGhK,OAAO,CAACqK,gBAAR,EAAtB,CAFiC,CAGjC;;AACA,UAAMI,OAAO,GAAGT,aAAa,CAACU,KAAd,CAAoB,UAACJ,KAAD,EAAW;AAC3C,YAAGA,KAAK,CAAChF,QAAN,KAAmB3D,YAAY,CAAC2D,QAAnC,EAA4C;AACxC1E,iBAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,iBAAO,KAAP;AACH;;AACD,eAAO,IAAP;AACH,OANe,CAAhB;;AAOA,UAAG,CAAC4J,OAAJ,EAAY;AAAE;AAAQ,OAXW,CAajC;;;AACAT,mBAAa,CAACpD,IAAd,CAAmBjF,YAAnB,EAdiC,CAejC;;AACAsI,kBAAY,CAACM,OAAb,CAAqB,eAArB,EAAsCJ,IAAI,CAACK,SAAL,CAAeR,aAAf,CAAtC;AACH,K,CAED;;;;uCAC0BrH,E,EAAI;AAC1B;AACA,UAAMqH,aAAa,GAAGhK,OAAO,CAACqK,gBAAR,EAAtB,CAF0B,CAG1B;;AACA,WAAI,IAAIjH,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG4G,aAAa,CAAChC,MAAjC,EAAyC5E,CAAC,EAA1C,EAA6C;AACzC,YAAG4G,aAAa,CAAC5G,CAAD,CAAb,CAAiBkC,QAAjB,KAA8B3C,EAAjC,EAAoC;AAChC;AACAqH,uBAAa,CAACW,MAAd,CAAqBvH,CAArB,EAAwB,CAAxB;AACA;AACH;AACJ,OAVyB,CAW1B;;;AACA6G,kBAAY,CAACM,OAAb,CAAqB,eAArB,EAAsCJ,IAAI,CAACK,SAAL,CAAeR,aAAf,CAAtC;AACH,K,CAED;;;;yCAC4B;AACxBC,kBAAY,CAACW,UAAb,CAAwB,eAAxB;AACH,K,CAED;;;;gCACkB;AACd;AACA,UAAMZ,aAAa,GAAGhK,OAAO,CAACqK,gBAAR,EAAtB,CAFc,CAGd;;AACA,UAAMQ,UAAU,GAAG,CAAC,IAAD,EAAO,MAAP,EAAe,UAAf,EAA2B,WAA3B,EAAwC,OAAxC,EAAiD,OAAjD,EAA0D,SAA1D,CAAnB,CAJc,CAKd;;AACA,UAAMC,OAAO,GAAG,EAAhB;AACAd,mBAAa,CAAClG,OAAd,CAAsB,UAACiH,CAAD,EAAIC,KAAJ,EAAc;AAChC;AACAD,SAAC,CAACvF,SAAF,CAAY1B,OAAZ,CAAoB,UAACqD,CAAD,EAAIV,GAAJ,EAAY;AAC5BqE,iBAAO,CAAClE,IAAR,CAAa,CACToE,KADS,EAETD,CAAC,CAACzG,IAFO,EAGT6C,CAHS,EAIT4D,CAAC,CAACtF,WAAF,CAAcgB,GAAd,CAJS,EAKTsE,CAAC,CAACrF,MAAF,CAASe,GAAT,CALS,EAMTsE,CAAC,CAAClF,MAAF,CAASY,GAAT,CANS,EAOTsE,CAAC,CAAChF,OAPO,CAAb;AASH,SAVD;AAWH,OAbD,EAPc,CAqBd;;AACA+E,aAAO,CAACG,OAAR,CAAgBJ,UAAhB,EAtBc,CAuBd;;AACA,aAAOC,OAAO,CAACrD,IAAR,CAAa,IAAb,CAAP;AACH,K,CAED;;;;sCACyByD,Q,EAAS;AAC9B;AACA,UAAM7F,IAAI,GAAG6F,QAAQ,CAACC,KAAT,CAAe,IAAf,CAAb,CAF8B,CAG9B;;AACA9F,UAAI,CAAC+F,KAAL,GAJ8B,CAK9B;;AACA,UAAI5F,SAAS,GAAG,EAAhB;AAAA,UAAoBC,WAAW,GAAG,EAAlC;AAAA,UAAsCC,MAAM,GAAG,EAA/C,CAN8B,CAO9B;;AACA,UAAI2F,IAAJ,EAAU/G,IAAV,CAR8B,CAS9B;;AACAe,UAAI,CAACvB,OAAL,CAAa,UAACtB,GAAD,EAAMiE,GAAN,EAAc;AACvB;AACA,YAAMc,KAAK,GAAG/E,GAAG,CAAC2I,KAAJ,CAAU,GAAV,CAAd,CAFuB,CAGvB;;AACA,YAAG5D,KAAK,CAACS,MAAN,GAAe,CAAlB,EAAoB;AAAE;AAAQ,SAJP,CAKvB;;;AACA,YAAGvB,GAAG,IAAE,CAAR,EAAU;AAAE4E,cAAI,GAAG9D,KAAK,CAAC,CAAD,CAAZ;AAAiBjD,cAAI,GAAGiD,KAAK,CAAC,CAAD,CAAZ;AAAiB,SANvB,CAOvB;;;AACA,YAAGA,KAAK,CAAC,CAAD,CAAL,IAAY8D,IAAf,EAAoB;AAChB;AACAC,0BAAgB,CAAC9F,SAAD,EAAYC,WAAZ,EAAyBC,MAAzB,EAAiCpB,IAAjC,CAAhB,CAFgB,CAGhB;;AACAkB,mBAAS,GAAG,EAAZ;AACAC,qBAAW,GAAG,EAAd;AACAC,gBAAM,GAAG,EAAT,CANgB,CAOhB;;AACA2F,cAAI,GAAG9D,KAAK,CAAC,CAAD,CAAZ;AACAjD,cAAI,GAAGiD,KAAK,CAAC,CAAD,CAAZ;AACH,SAlBsB,CAoBvB;;;AACA/B,iBAAS,CAACoB,IAAV,CAAeW,KAAK,CAAC,CAAD,CAApB;AACA9B,mBAAW,CAACmB,IAAZ,CAAiBW,KAAK,CAAC,CAAD,CAAtB;AACA7B,cAAM,CAACkB,IAAP,CAAYW,KAAK,CAAC,CAAD,CAAjB;AAEH,OAzBD,EAV8B,CAoC9B;;AACA+D,sBAAgB,CAAC9F,SAAD,EAAYC,WAAZ,EAAyBC,MAAzB,EAAiCpB,IAAjC,CAAhB,CArC8B,CAuC9B;;AACA,eAASgH,gBAAT,CAA0BnE,CAA1B,EAA6BoE,CAA7B,EAAgCC,CAAhC,EAAmClF,CAAnC,EAAqC;AACjC,YAAMyE,CAAC,GAAG,IAAIhL,wDAAJ,CAAiBoH,CAAjB,EAAoBoE,CAApB,EAAuBC,CAAvB,CAAV,CADiC,CAEjC;;AACAxL,eAAO,CAACmC,eAAR,CAAwB4I,CAAxB;AACAnK,eAAO,CAACC,GAAR,CAAYyF,CAAZ;AACAtG,eAAO,CAACwE,sBAAR,CAA+BuG,CAAC,CAACzF,QAAjC,EAA2CgB,CAA3C;AAEH;AACJ,K,CAGD;;;;0CAC4B;AACxB;AACA,UAAMmF,GAAG,GAAGzL,OAAO,CAAC0L,SAAR,EAAZ,CAFwB,CAGxB;;AACA,UAAMC,aAAa,GAAGzL,QAAQ,CAAC0L,aAAT,CAAuB,GAAvB,CAAtB;AACAD,mBAAa,CAACE,IAAd,GAAqB,iCAAiCC,kBAAkB,CAACL,GAAD,CAAxE;AACAE,mBAAa,CAACpL,MAAd,GAAuB,QAAvB;AACAoL,mBAAa,CAACI,QAAd,GAAyB,mBAAzB;AACAJ,mBAAa,CAACK,KAAd;AACH,K,CAED;;;;;;;8FACyCC,Q;;;;;;AACrC;AACA;AACMC,oB,GAAOD,QAAQ,CAAC,CAAD,C,EACrB;;AACME,sB,GAAS,IAAIC,UAAJ,E;AACfD,sBAAM,CAACE,UAAP,CAAkBH,IAAlB,E,CACA;;AACAC,sBAAM,CAACG,MAAP,GAAgB,YAAW;AACvBtM,yBAAO,CAACuM,iBAAR,CAA0BJ,MAAM,CAACK,MAAjC;AACH,iBAFD;;AAGAL,sBAAM,CAACM,SAAP,GAAmB,YAAW;AAC1B5M,gEAAE,CAACuC,eAAH;AACH,iBAFD;;AAGA+J,sBAAM,CAACO,OAAP,GAAiB,YAAW;AACxBzL,uBAAK,CAAC,wCAAD,CAAL;AACAL,yBAAO,CAACC,GAAR,CAAYsL,MAAM,CAACQ,KAAnB;AACH,iBAHD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/LR;CAGA;;IACqB7M,K;;;;;;;;;+BAEC6B,Y,EAAc;AAC5B;AACA,UAAMiL,OAAO,GAAG9M,KAAK,CAAC+M,WAAN,CAAkBlL,YAAlB,CAAhB,CAF4B,CAI5B;;AACA,UAAM6B,MAAM,GAAGtD,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAf,CAL4B,CAM5B;;AACA,UAAM2M,GAAG,GAAGtJ,MAAM,CAACuJ,UAAP,CAAkB,IAAlB,CAAZ,CAP4B,CAS5B;;AACA,UAAMC,OAAO,GAAG,IAAIC,KAAJ,CAAUH,GAAV,EAAe;AAC3BI,YAAI,EAAE,eADqB;AAE3B7H,YAAI,EAAE;AACF8H,gBAAM,EAAE,CAAC,cAAD,CADN;AAEFC,kBAAQ,EAAER,OAFR,CAGF;;AAHE,SAFqB;AAO3BS,eAAO,EAAE;AACLC,gBAAM,EAAE;AACJC,mBAAO,EAAE,IADL;AAEJC,mBAAO,EAAE,IAFL;AAGJL,kBAAM,EAAE;AACJM,oBAAM,EAAE,gBAAS5F,IAAT,EAAehG,KAAf,EAAsB;AAC1B,oBAAI6L,KAAK,GAAG,IAAZ,CAD0B,CAE1B;;AACA,oBAAG7F,IAAI,CAAC8F,IAAL,KAAY,2BAAf,EAA2C;AACvC;AACA;AACA,sBAAMR,MAAM,GAAGtL,KAAK,CAAC,UAAD,CAApB,CAHuC,CAIvC;;AACA,uBAAI,IAAIuB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC+J,MAAM,CAACnF,MAAP,GAAc,CAA7B,EAA+B5E,CAAC,EAAhC,EAAmC;AAC/B;AACA,wBAAG+J,MAAM,CAAC/J,CAAD,CAAN,CAAUwK,KAAV,KAAkB,2BAArB,EAAiD;AAC7C;AACA,0BAAGxK,CAAC,KAAKyE,IAAI,CAACgG,YAAd,EAA2B;AACvB;AACH,uBAFD,MAEO;AACH;AACAH,6BAAK,GAAG,KAAR;AACA;AACH;AACJ;AACJ,mBAjBsC,CAkBvC;;AACH,iBAnBD,MAmBO;AACH;AACA,sBAAMI,KAAK,GAAG,CAAC,YAAD,EAAe,YAAf,CAAd;;AACA,sBAAGA,KAAK,CAACC,IAAN,CAAW,UAAAzF,EAAE;AAAA,2BAAIT,IAAI,CAAC8F,IAAL,CAAUK,QAAV,CAAmB1F,EAAnB,CAAJ;AAAA,mBAAb,CAAH,EAA4C;AAAEoF,yBAAK,GAAG,KAAR;AAAe;AAChE;;AAGD,uBAAOA,KAAP;AACH;AA/BG;AAHJ,WADH;AAsCLO,gBAAM,EAAE;AACJC,iBAAK,EAAE,CAAC;AACJC,gCAAkB,EAAE,GADhB;AAEJC,2BAAa,EAAE,GAFX;AAGJC,sBAAQ,EAAE;AAHN,aAAD,CADH;AAMJC,iBAAK,EAAE,CAAC;AACJC,wBAAU,EAAE;AAAChB,uBAAO,EAAE,IAAV;AAAgBiB,2BAAW,EAAE;AAA7B,eADR;AAEJC,mBAAK,EAAE;AACHC,wBAAQ,EAAE,GADP;AAEHC,2BAAW,EAAE,CAFV;AAGHC,wBAAQ,EAAE,kBAASrK,KAAT,EAAgBsK,KAAhB,EAAuBC,MAAvB,EAA8B;AACpC,sBAAMxI,CAAC,GAAGwI,MAAM,CAAC9G,MAAjB;;AACA,sBAAG1B,CAAC,IAAI,EAAR,EAAW;AACP,2BAAO/B,KAAP;AACH,mBAFD,MAEO,IAAG+B,CAAC,GAAG,EAAJ,IAAUA,CAAC,IAAI,EAAlB,EAAqB;AACxB,wBAAIuI,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChB,6BAAOtK,KAAP;AACH;AACJ,mBAJM,MAIA,IAAG+B,CAAC,GAAG,EAAJ,IAAUA,CAAC,IAAI,EAAlB,EAAqB;AACxB,wBAAIuI,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChB,6BAAOtK,KAAP;AACH;AACJ,mBAJM,MAIA,IAAG+B,CAAC,GAAG,EAAJ,IAAUA,CAAC,IAAI,GAAlB,EAAsB;AACzB,wBAAIuI,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChB,6BAAOtK,KAAP;AACH;AACJ,mBAJM,MAIA,IAAG+B,CAAC,GAAG,GAAJ,IAAWA,CAAC,IAAI,GAAnB,EAAuB;AAC1B,wBAAIuI,KAAK,GAAG,CAAR,IAAa,CAAjB,EAAoB;AAChB,6BAAOtK,KAAP;AACH;AACJ,mBAJM,MAIA;AACH,wBAAIsK,KAAK,GAAG,EAAR,IAAc,CAAlB,EAAqB;AACjB,6BAAOtK,KAAP;AACH;AACJ;AACJ;AA5BE,eAFH;AAgCJwK,6BAAe,EAAE,yBAASC,IAAT,EAAeP,KAAf,EAAqB;AAClC;AACA,uBAAOA,KAAK,CAAChB,MAAN,CAAa,UAACrH,GAAD,EAAMK,GAAN,EAAWwI,GAAX,EAAmB;AACnC;AACA,sBAAMC,KAAK,GAAGvN,YAAY,CAACsE,SAA3B;AACA,yBAAOG,GAAG,IAAI,CAAP,IAAYA,GAAG,IAAI8I,KAA1B;AACH,iBAJM,CAAP;AAKH;AAvCG,aAAD;AANH,WAtCH;AAsFLC,kBAAQ,EAAE;AACNC,gBAAI,EAAE,SADA;AAENC,qBAAS,EAAE;AACPC,mBAAK,EAAE,eAASC,WAAT,EAAsBlK,IAAtB,EAA4B;AAC/B,oBAAIuI,KAAK,GAAG2B,WAAW,CAAC,CAAD,CAAX,CAAe3B,KAA3B;;AACA,oBAAGA,KAAK,KAAK,cAAb,EAA4B;AACxB;AACA,sBAAIA,MAAK,GAAGvI,IAAI,CAAC+H,QAAL,CAAcmC,WAAW,CAAC,CAAD,CAAX,CAAe1B,YAA7B,EAA2CD,KAAvD,CAFwB,CAGxB;;AACA,sBAAG9N,KAAK,CAAC0P,oBAAN,GAA6BxB,QAA7B,CAAsCJ,MAAtC,CAAH,EAAgD;AAC5C,2BAAOA,MAAP;AACH,mBAFD,MAEO;AACH,2BAAO,cAAP;AACH;AACJ,iBATD,MASO;AACH,yBAAO,aAAP;AACH;AACJ,eAfM;AAgBPA,mBAAK,EAAE,eAAS2B,WAAT,EAAsBlK,IAAtB,EAA4B;AAC/B;AACA,oBAAGkK,WAAW,CAAC3B,KAAZ,KAAsB,cAAzB,EAAwC;AACpC,sBAAIA,KAAK,GAAGvI,IAAI,CAAC+H,QAAL,CAAcmC,WAAW,CAAC1B,YAA1B,EAAwCD,KAApD,CADoC,CAEpC;;AACA,sBAAG9N,KAAK,CAAC0P,oBAAN,CAA2B,SAA3B,EAAsCxB,QAAtC,CAA+CJ,KAA/C,CAAH,EAAyD;AACrD,2BADqD,CAEzD;AACC,mBAHD,MAGO,IAAG9N,KAAK,CAAC0P,oBAAN,CAA2B,KAA3B,EAAkCxB,QAAlC,CAA2CJ,KAA3C,CAAH,EAAsD;AACzD,wBAAG2B,WAAW,CAAChL,KAAZ,GAAoB,CAAvB,EAAyB;AACrB;AACA;AACA,uCAAUc,IAAI,CAAC+H,QAAL,CAAc,CAAd,EAAiB/H,IAAjB,CAAsB,CAAtB,EAAyBoK,CAAnC,cAAwCC,MAAM,CAACC,YAAP,CAAoB,GAApB,CAAxC;AACH,qBAJD,MAIO;AACH;AACA,uCAAUtK,IAAI,CAAC+H,QAAL,CAAc,CAAd,EAAiB/H,IAAjB,CAAsBA,IAAI,CAAC+H,QAAL,CAAc,CAAd,EAAiB/H,IAAjB,CAAsB2C,MAAtB,GAA6B,CAAnD,EAAsDyH,CAAhE,cAAqEC,MAAM,CAACC,YAAP,CAAoB,GAApB,CAArE;AACH;AACJ,mBATM,MASA;AACH;AACA,wBAAIC,SAAS,GAAGjO,YAAY,CAAC6D,SAAb,CAAuBqK,OAAvB,CAA+BjC,KAA/B,CAAhB;AACA,wBAAIkC,KAAK,GAAInO,YAAY,CAAC8D,WAAb,CAAyBsK,KAAzB,CAA+B,CAA/B,EAAiCH,SAAS,GAAC,CAA3C,CAAD,CAAgD1J,MAAhD,CAAuD,UAACc,CAAD,EAAIC,CAAJ;AAAA,6BAAUD,CAAC,GAAGC,CAAd;AAAA,qBAAvD,EAAwE,CAAxE,CAAZ;AACA,2BAAO,WACA2G,KADA,eACU2B,WAAW,CAAChL,KADtB,uBAEGtE,mDAAO,CAAC+P,OAAR,CAAgBrO,YAAY,CAACkE,MAAb,CAAoB+J,SAApB,CAAhB,EAAgD,CAAhD,CAFH,iBAGI3P,mDAAO,CAACgQ,KAAR,CAAcH,KAAd,CAHJ,SAAP;AAKH;AACJ,iBAzBD,MAyBO;AACH;AACA;AACA,sBAAMI,cAAc,GAAG7K,IAAI,CAAC+H,QAAL,CAAcmC,WAAW,CAAC1B,YAA1B,EAAwCxI,IAAxC,CAA6C2C,MAApE;AACA,sBAAMmI,OAAO,GAAG,WAAIlQ,mDAAO,CAACgQ,KAAR,CAAcV,WAAW,CAAChL,KAA1B,CAAJ,cAAwCmL,MAAM,CAACC,YAAP,CAAoB,GAApB,CAAxC,OAAhB,CAJG,CAKH;;AACA,sBAAGJ,WAAW,CAACV,KAAZ,IAAqB,CAArB,IAA0BU,WAAW,CAACV,KAAZ,IAAqBqB,cAAc,GAAC,CAAjE,EAAoE;AAChEC,2BAAO,CAACvJ,IAAR,eAAoB3G,mDAAO,CAACgQ,KAAR,CAAcV,WAAW,CAACa,MAA1B,CAApB;AACH;;AACD,yBAAOD,OAAP;AACH;AACJ;AAtDM;AAFL,WAtFL;AAiJLE,oBAAU,EAAE;AAjJP;AAPkB,OAAf,CAAhB;AA4JA,aAAOrD,OAAP;AACH;;;kCAEoB;AACjBC,WAAK,CAACqD,OAAN,CAAcC,IAAd,CAAmBtD,KAAK,CAACuD,SAAzB,EAAoC,UAAAC,QAAQ,EAAI;AAC5CA,gBAAQ,CAAC5O,KAAT,CAAe6O,OAAf;AACH,OAFD;AAGH;;;qCAEuB/O,Y,EAAcE,K,EAA2B;AAAA,UAApB8O,GAAoB,uEAAd,EAAc;AAAA,UAAVC,GAAU,uEAAJ,EAAI;AAC7D;AACA/O,WAAK,CAACwD,IAAN,CAAW+H,QAAX,CAAoBnC,OAApB,CAA4B;AACxB2C,aAAK,EAAE,aADiB;AAExBvI,YAAI,EAAEvF,KAAK,CAAC+Q,0BAAN,CAAiClP,YAAjC,EAA+CE,KAA/C,EAAsD8O,GAAtD,EAA2DC,GAA3D,CAFkB;AAGxB1D,YAAI,EAAE,MAHkB;AAIxB4D,eAAO,EAAE,QAJe;AAKxBC,mBAAW,EAAE,CALW;AAMxBC,mBAAW,EAAE,CANW;AAOxBC,mBAAW,EAAE,MAPW;AAQxBC,kBAAU,EAAE,QARY;AASxBC,wBAAgB,EAAE,MATM;AAUxBC,4BAAoB,EAAE,MAVE;AAWxBC,uBAAe,EAAE;AAXO,OAA5B;AAaAxP,WAAK,CAACwL,OAAN,CAAcY,MAAd,CAAqBC,KAArB,CAA2BtH,IAA3B,CAAgC;AAC5BjE,UAAE,EAAE,QADwB;AAE5BuK,YAAI,EAAE,QAFsB;AAG5BmB,gBAAQ,EAAE,MAHkB;AAI5BI,aAAK,EAAE;AACH6C,aAAG,EAAE,IAAEC,IAAI,CAACC,KAAL,CAAW,CAACD,IAAI,CAACD,GAAL,CAASX,GAAT,EAAaC,GAAb,IAAkB,CAAnB,IAAsB,CAAjC,CADJ;AAEHa,aAAG,EAAE,IAAEF,IAAI,CAACC,KAAL,CAAW,CAACD,IAAI,CAACE,GAAL,CAASd,GAAT,EAAaC,GAAb,IAAkB,CAAnB,IAAsB,CAAjC;AAFJ,SAJqB;AAQ5BrC,kBAAU,EAAE;AACRC,qBAAW,EAAE,aADL;AAERjB,iBAAO,EAAE,IAFD;AAGRmE,mBAAS,EAAE;AAHH;AARgB,OAAhC;AAcA7P,WAAK,CAAC8P,MAAN;AACH;;;oCAEsBhQ,Y,EAAcgP,G,EAAKC,G,EAAK;AAC3C;AACA,aAAOjP,YAAY,CAACiQ,OAAb,IAAwBjB,GAAG,GAAGC,GAA9B,CAAP;AACH,K,CAED;;;;+CACkCjP,Y,EAAcE,K,EAAO8O,G,EAAKC,G,EAAK;AAC7D;AACA,UAAMiB,MAAM,GAAG/R,KAAK,CAACgS,eAAN,CAAsBnQ,YAAtB,EAAoCgP,GAApC,EAAyCC,GAAzC,CAAf,CAF6D,CAG7D;;AACA,UAAMmB,IAAI,GAAGlQ,KAAK,CAACoM,MAAN,CAAa,UAAb,EAAyBqD,GAAtC;AACA,UAAMU,IAAI,GAAGnQ,KAAK,CAACoM,MAAN,CAAa,UAAb,EAAyBwD,GAAtC,CAL6D,CAM7D;;AACA,UAAMQ,KAAK,GAAG,CAAC;AAAChJ,SAAC,EAAE,CAAJ;AAAOwG,SAAC,EAAEkB;AAAV,OAAD,CAAd,CAP6D,CAQ7D;;AACAhP,kBAAY,CAACkE,MAAb,CAAoB/B,OAApB,CAA4B,UAAC0C,KAAD,EAAQC,GAAR,EAAgB;AACxC;AACA,YAAIyL,GAAG,GAAGD,KAAK,CAACxL,GAAD,CAAL,CAAW,GAAX,IAAmBoL,MAAM,IAAI,IAAIrL,KAAR,CAAnC;AACAyL,aAAK,CAACrL,IAAN,CAAW;AAACqC,WAAC,EAAEgJ,KAAK,CAACxL,GAAD,CAAL,CAAW,GAAX,IAAgB9E,YAAY,CAAC8D,WAAb,CAAyBgB,GAAzB,CAApB;AAAmDgJ,WAAC,EAAEyC;AAAtD,SAAX;AACH,OAJD,EAT6D,CAc7D;;AACAD,WAAK,CAAChH,OAAN,CAAc;AAAChC,SAAC,EAAE8I,IAAJ;AAAUtC,SAAC,EAACkB;AAAZ,OAAd;AACAsB,WAAK,CAACrL,IAAN,CAAW;AAACqC,SAAC,EAAE+I,IAAJ;AAAUvC,SAAC,EAAEmB;AAAb,OAAX;AACA,aAAOqB,KAAP;AACH;;;gCAEkB5M,I,EAAM;AACrB;AACA,UAAM8M,OAAO,GAAG;AAACvE,aAAK,EAAE,YAAR;AAAsBvI,YAAI,EAAE,CAAC,CAAC,EAAF,CAA5B;AAAmCgM,uBAAe,EAAE,eAApD;AAAqEe,aAAK,EAAE;AAA5E,OAAhB;AACA,UAAMC,OAAO,GAAG;AAACzE,aAAK,EAAE,YAAR;AAAsBvI,YAAI,EAAE,CAAC,EAAD,CAA5B;AAAkCgM,uBAAe,EAAE,eAAnD;AAAoEe,aAAK,EAAE;AAA3E,OAAhB,CAHqB,CAIrB;;AACA,UAAM9K,MAAM,GAAG,EAAf,CALqB,CAMrB;;AACA,UAAMgL,OAAO,GAAGzS,8CAAE,CAAC0S,wBAAH,EAAhB;;AACA,UAAGD,OAAH,EAAW;AACP;AACA,YAAME,KAAK,GAAG;AAAC5E,eAAK,EAAE,kBAAR;AAA4BvI,cAAI,EAAE,CAAC,CAAC,IAAF,CAAlC;AAA2CgM,yBAAe,EAAE,uBAA5D;AAAqFe,eAAK,EAAE;AAA5F,SAAd;AACA9K,cAAM,CAACV,IAAP,CAAY4L,KAAZ;AACH,OAZoB,CAcrB;;;AACAlL,YAAM,CAACV,IAAP,CAAYuL,OAAZ;AACA9M,UAAI,CAACG,SAAL,CAAe1B,OAAf,CAAuB,UAACgD,QAAD,EAAWL,GAAX,EAAmB;AACtC,YAAIe,CAAC,GAAG,EAAR;AAEAA,SAAC,CAACoG,KAAF,GAAU9G,QAAV;AACAU,SAAC,CAACnC,IAAF,GAAS,CAACA,IAAI,CAACI,WAAL,CAAiBgB,GAAjB,CAAD,CAAT,CAJsC,CAKtC;;AACAe,SAAC,CAAC4K,KAAF,GAAU,MAAV,CANsC,CAOtC;;AACA,YAAG/M,IAAI,CAACK,MAAL,CAAYe,GAAZ,MAAmB,EAAtB,EAAyB;AACrBe,WAAC,CAAC6J,eAAF,GAAoB,0BAApB;AACH,SAFD,MAEO;AACH;AACA7J,WAAC,CAAC6J,eAAF,GAAoBoB,WAAW,EAA/B;AACH;;AAGDnL,cAAM,CAACV,IAAP,CAAYY,CAAZ;AACH,OAjBD;;AAkBA,UAAG8K,OAAH,EAAW;AACP,YAAMI,KAAK,GAAG;AAAC9E,eAAK,EAAE,kBAAR;AAA4BvI,cAAI,EAAE,CAAC,IAAD,CAAlC;AAA0CgM,yBAAe,EAAE,uBAA3D;AAAoFe,eAAK,EAAE;AAA3F,SAAd;AACA9K,cAAM,CAACV,IAAP,CAAY8L,KAAZ;AACH;;AAAA;AACDpL,YAAM,CAACV,IAAP,CAAYyL,OAAZ;AACA,aAAO/K,MAAP;AACH;;;+BAEiB3F,Y,EAAc+Q,K,EAAOF,K,EAAO;AAC1C,aAAO5M,MAAM,CAACjE,YAAY,CAACoE,OAAd,CAAN,GAA+B2M,KAA/B,GAAuCF,KAA9C;AACH;;;yCAE0B;AACvB;AACA,UAAMhP,MAAM,GAAGtD,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAAf,CAFuB,CAGvB;;AACA,UAAM2M,GAAG,GAAGtJ,MAAM,CAACuJ,UAAP,CAAkB,IAAlB,CAAZ,CAJuB,CAKvB;;AACA,UAAM4F,CAAC,GAAGnP,MAAM,CAACkF,YAAjB;AACA,UAAMkK,CAAC,GAAGpP,MAAM,CAACoF,WAAjB,CAPuB,CAQvB;;AACAkE,SAAG,CAAC+F,SAAJ,CAAc,CAAd,EAAgB,CAAhB,EAAkBD,CAAlB,EAAoBD,CAApB,EATuB,CAUvB;;AACA,UAAMG,MAAM,GAAG,CAAf,CAXuB,CAYvB;;AACAhG,SAAG,CAACiG,SAAJ,GAAgB,GAAhB;AACAjG,SAAG,CAACkG,UAAJ,CAAeF,MAAf,EAAuBA,MAAvB,EAA+BF,CAAC,GAACE,MAAM,GAAC,CAAxC,EAA2CH,CAAC,GAACG,MAAM,GAAC,CAApD,EAduB,CAevB;;AACAhG,SAAG,CAACmG,IAAJ,GAAW,WAAX;AACAnG,SAAG,CAACoG,SAAJ,GAAgB,QAAhB;AACApG,SAAG,CAACqG,SAAJ,GAAgB,MAAhB;;AACA,UAAGvT,MAAM,CAACwT,UAAP,IAAqB,GAAxB,EAA4B;AACxBtG,WAAG,CAACuG,QAAJ,CAAa,+CAAb,EAA8DT,CAAC,GAAC,CAAhE,EAAmED,CAAC,GAAC,CAAF,GAAM,KAAG,CAA5E;AACA7F,WAAG,CAACuG,QAAJ,CAAa,iDAAb,EAAgET,CAAC,GAAC,CAAlE,EAAqED,CAAC,GAAC,CAAF,GAAM,KAAG,CAA9E;AACH,OAHD,MAGK;AACD7F,WAAG,CAACuG,QAAJ,CAAa,+FAAb,EAA8GT,CAAC,GAAC,CAAhH,EAAmHD,CAAC,GAAC,CAArH;AACH;AACJ,K,CAID;;;;2CAC8C;AAAA,UAAlBW,QAAkB,uEAAP,KAAO;AAC1C,UAAIC,KAAK,GAAG,CAAC,kBAAD,EAAqB,kBAArB,EAAyC,YAAzC,EAAuD,YAAvD,CAAZ;;AACA,cAAOD,QAAP;AACI,aAAK,KAAL;AACI,iBAAOC,KAAP;;AACJ,aAAK,SAAL;AACI,iBAAOA,KAAK,CAACxD,KAAN,CAAY,CAAZ,EAAc,CAAd,CAAP;;AACJ,aAAK,KAAL;AACI,iBAAOwD,KAAK,CAACxD,KAAN,CAAY,CAAZ,EAAc,CAAd,CAAP;AANR;AAQH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrUL;AACA;CAGA;;IACqBlQ,E;;;;;;;;;wCACUyI,E,EAAI;AAC3B,UAAGA,EAAE,CAACpE,SAAH,CAAaiE,QAAb,CAAsB,YAAtB,CAAH,EAAuC;AACnCvH,eAAO,CAACC,GAAR,CAAY,aAAZ;AACAhB,UAAE,CAACwI,SAAH,CAAaC,EAAb;AACH,OAHD,MAGO,IAAGA,EAAE,CAACpE,SAAH,CAAaiE,QAAb,CAAsB,SAAtB,CAAH,EAAoC;AACvCvH,eAAO,CAACC,GAAR,CAAY,gBAAZ;AACAhB,UAAE,CAAC2T,WAAH,CAAelL,EAAf;AACH;AACJ;;;gCAEkB9F,G,EAAK;AACpB;AACA,UAAMiE,GAAG,GAAGjE,GAAG,CAACiR,OAAJ,CAAY,IAAZ,EAAkBC,QAA9B,CAFoB,CAGpB;;AACA,UAAM5S,KAAK,GAAG0B,GAAG,CAACiR,OAAJ,CAAY,OAAZ,CAAd,CAJoB,CAKpB;;AACA,UAAME,MAAM,GAAG7S,KAAK,CAAC8S,SAAN,CAAgBnN,GAAhB,CAAf,CANoB,CAOpB;;AACAkN,YAAM,CAACpR,SAAP,GAAmB1C,EAAE,CAACgU,YAAH,EAAnB;AAEH;;;8BAEgBC,I,EAAM;AACnB;AACAA,UAAI,CAACL,OAAL,CAAa,IAAb,EAAmB3O,MAAnB;AACH;;;qCAEuBiP,U,EAAgC;AAAA,UAApBC,OAAoB,uEAAZ,UAAY;AACpD,UAAMxR,GAAG,GAAGtC,QAAQ,CAAC0L,aAAT,CAAuB,IAAvB,CAAZ;AACA,UAAIqI,OAAJ;;AACA,UAAGD,OAAO,KAAG,QAAb,EAAsB;AAClBxR,WAAG,CAAC0B,SAAJ,CAAca,GAAd,CAAkB,QAAlB;AACAvC,WAAG,CAACD,SAAJ,GAAgB1C,EAAE,CAACqU,kBAAH,EAAhB;AACH,OAHD,MAGO;AACH1R,WAAG,CAACD,SAAJ,GAAgB1C,EAAE,CAACgU,YAAH,EAAhB;AACH,OARmD,CASpD;;;AACAI,aAAO,GAAGF,UAAU,CAACI,WAAX,CAAuB3R,GAAvB,CAAV;AACA,aAAOyR,OAAP;AACH;;;mCAEqBnT,K,EAAO;AACzB;AACA;AACAA,WAAK,CAACX,aAAN,CAAoB,OAApB,EAA6B2E,MAA7B,GAHyB,CAIzB;;AACA,UAAMsP,IAAI,GAAGlU,QAAQ,CAAC0L,aAAT,CAAuB,OAAvB,CAAb;AACAwI,UAAI,CAAClQ,SAAL,CAAea,GAAf,CAAmB,UAAnB;AACA,UAAMvE,SAAS,GAAGM,KAAK,CAACqT,WAAN,CAAkBC,IAAlB,CAAlB;AAEA,aAAO5T,SAAP;AACH;;;sCAEwB;AACrB;AACA,UAAM6T,YAAY,GAAGnU,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAArB,CAFqB,CAGrB;;AACA,UAAMK,SAAS,GAAGX,EAAE,CAACsD,cAAH,CAAkBkR,YAAlB,CAAlB,CAJqB,CAKrB;;AACA,UAAMrK,aAAa,GAAGhK,mDAAO,CAACqK,gBAAR,EAAtB,CANqB,CAQrB;;AACAL,mBAAa,CAAClG,OAAd,CAAsB,UAACnC,YAAD,EAAkB;AACpC9B,UAAE,CAACyU,YAAH,CAAgB3S,YAAhB,EAA8BnB,SAA9B;AACH,OAFD;AAGH;;;iCAEmBmB,Y,EAAcb,K,EAAO;AACrC;AACA,UAAM0B,GAAG,GAAGtC,QAAQ,CAAC0L,aAAT,CAAuB,IAAvB,CAAZ,CAFqC,CAIrC;;AACApJ,SAAG,CAACD,SAAJ,6JAC+HZ,YAAY,CAAC2C,IAAb,IAAqB,EADpJ,uCAEUzE,EAAE,CAAC0U,cAAH,CAAkB;AAACC,YAAI,EAAE7S,YAAY,CAAC6D,SAApB;AAA+BiP,qBAAa,EAAE;AAA9C,OAAlB,CAFV,oCAGU5U,EAAE,CAAC0U,cAAH,CAAkB;AAACC,YAAI,EAAE7S,YAAY,CAAC8D,WAApB;AAAiCgP,qBAAa,EAAE;AAAhD,OAAlB,CAHV,oCAIU5U,EAAE,CAAC0U,cAAH,CAAkB;AAACC,YAAI,EAAE7S,YAAY,CAAC+D,MAApB;AAA4B+O,qBAAa,EAAE;AAA3C,OAAlB,CAJV,oCAKU5U,EAAE,CAAC0U,cAAH,CAAkB;AAACC,YAAI,EAAE7S,YAAY,CAACkE,MAAb,CAAoBF,GAApB,CAAwB,UAAAS,GAAG,EAAI;AAAE,iBAAOnG,OAAO,CAACyU,kBAAR,CAA2BtO,GAA3B,EAAgC,CAAhC,CAAP;AAA0C,SAA3E,CAAP;AAAqFqO,qBAAa,EAAE;AAApG,OAAlB,CALV,oCAMU5U,EAAE,CAAC0U,cAAH,CAAkB;AAACC,YAAI,EAAE,CAACvU,OAAO,CAACyU,kBAAR,CAA2B3U,wDAAY,CAAC6R,OAAb,CAAqBjQ,YAArB,CAA3B,EAA+D,CAA/D,CAAD,CAAP;AAA4EgT,aAAK,EAAE,SAAnF;AAA8FF,qBAAa,EAAE;AAA7G,OAAlB,CANV,oCAOU5U,EAAE,CAAC0U,cAAH,CAAkB;AAACC,YAAI,EAAE,CAACvU,OAAO,CAACyU,kBAAR,CAA2B/S,YAAY,CAACoE,OAAxC,EAAiD,CAAjD,CAAD,CAAP;AAA8D4O,aAAK,EAAE,SAArE;AAAgFF,qBAAa,EAAE;AAA/F,OAAlB,CAPV,6IASmC9S,YAAY,CAAC2D,QAThD,WALqC,CAgBrC;;AACAxE,WAAK,CAACqT,WAAN,CAAkB3R,GAAlB;AACH;;;uDAEyCb,Y,EAAa;AACnD,UAAMb,KAAK,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAd;AACA,UAAMK,SAAS,GAAGX,EAAE,CAACsD,cAAH,CAAkBrC,KAAlB,CAAlB,CAFmD,CAGnD;;AACAa,kBAAY,CAAC6D,SAAb,CAAuB1B,OAAvB,CAA+B,UAACgD,QAAD,EAAWL,GAAX,EAAmB;AAC9C,YAAMpB,IAAI,GAAG,CAACyB,QAAD,EAAWnF,YAAY,CAAC8D,WAAb,CAAyBgB,GAAzB,CAAX,EAA0C9E,YAAY,CAAC+D,MAAb,CAAoBe,GAApB,CAA1C,CAAb,CAD8C,CAE9C;;AACA,YAAIuN,OAAJ;;AACA,YAAG3O,IAAI,CAAC,CAAD,CAAJ,KAAY,EAAf,EAAkB;AACd2O,iBAAO,GAAG,QAAV;AACH,SAFD,MAEO;AACHA,iBAAO,GAAG,UAAV;AACH;;AACD,YAAMC,OAAO,GAAGpU,EAAE,CAACY,gBAAH,CAAoBD,SAApB,EAA+BwT,OAA/B,CAAhB;AACA,YAAMY,MAAM,GAAGX,OAAO,CAACpQ,gBAAR,CAAyB,OAAzB,CAAf;AACA+Q,cAAM,CAAC9Q,OAAP,CAAe,UAAC+Q,KAAD,EAAQpO,GAAR,EAAgB;AAC3BoO,eAAK,CAACtQ,KAAN,GAAcc,IAAI,CAACoB,GAAD,CAAlB;AACH,SAFD;AAGH,OAdD;AAeH;;;+CAEiC9E,Y,EAAc;AAC5C;AACA,UAAMmT,SAAS,GAAG,CAAlB;AAEA,UAAMpN,CAAC,GAAGxH,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAV;AACA,UAAM4U,CAAC,GAAG7U,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAV;AACAuH,OAAC,CAACnD,KAAF,GAAUtE,OAAO,CAACyU,kBAAR,CAA2B/S,YAAY,CAACoE,OAAxC,EAAiD+O,SAAjD,CAAV;AACAC,OAAC,CAACxQ,KAAF,GAAUtE,OAAO,CAACyU,kBAAR,CAA2B/S,YAAY,CAACiQ,OAAxC,EAAiDkD,SAAjD,CAAV;AAEA,UAAME,GAAG,GAAG9U,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAZ;AACA,UAAM8U,GAAG,GAAG/U,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAZ;;AACA,UAAGN,EAAE,CAAC0S,wBAAH,EAAH,EAAiC;AAC7B,YAAM2C,SAAS,GAAGrV,EAAE,CAACsV,oBAAH,EAAlB;AACA,YAAMC,OAAO,GAAGtV,iDAAK,CAACuV,UAAN,OAAAvV,iDAAK,GAAY6B,YAAZ,yFAA6BuT,SAA7B,GAArB;AACAF,WAAG,CAACzQ,KAAJ,GAAYtE,OAAO,CAACyU,kBAAR,CAA2BU,OAA3B,EAAoCN,SAApC,CAAZ;AACAG,WAAG,CAAC1Q,KAAJ,GAAYtE,OAAO,CAACyU,kBAAR,CAA4B,IAAEU,OAA9B,EAAwCN,SAAxC,CAAZ;AACH,OALD,MAKO;AACHE,WAAG,CAACzQ,KAAJ,GAAYtE,OAAO,CAACyU,kBAAR,CAA2B/S,YAAY,CAACoE,OAAxC,EAAiD+O,SAAjD,CAAZ;AACAG,WAAG,CAAC1Q,KAAJ,GAAYtE,OAAO,CAACyU,kBAAR,CAA2B/S,YAAY,CAACiQ,OAAxC,EAAiDkD,SAAjD,CAAZ;AACH;AACJ;;;+CAEiC;AAC9B,UAAMpN,CAAC,GAAGxH,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAV;AACA,UAAM4U,CAAC,GAAG7U,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAV;AACA,UAAM6U,GAAG,GAAG9U,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAZ;AACA,UAAM8U,GAAG,GAAG/U,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAZ;AAEAuH,OAAC,CAACnD,KAAF,GAAU,KAAV;AACAwQ,OAAC,CAACxQ,KAAF,GAAU,KAAV;AACAyQ,SAAG,CAACzQ,KAAJ,GAAY,KAAZ;AACA0Q,SAAG,CAAC1Q,KAAJ,GAAY,KAAZ;AACH;;;2CAE6B;AAC1B,UAAM+C,MAAM,GAAI,EAAhB;AACAA,YAAM,CAACV,IAAP,CAAYhB,MAAM,CAAC1F,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCoE,KAAvC,CAAlB;AACA+C,YAAM,CAACV,IAAP,CAAYhB,MAAM,CAAC1F,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCoE,KAAvC,CAAlB;AACA,aAAO+C,MAAP;AACH;;;+CAEiC;AAC9B,aAAOpH,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyC8D,OAAhD;AACH,K,CAED;;;;mCACsB;AAClB;AACA,UAAM1B,SAAS,+nBAAf;AAOA,aAAOA,SAAP;AACH;;;yCAE2B;AACxB,UAAMA,SAAS,8pBAAf;AAOA,aAAOA,SAAP;AACH;;;qCAE0E;AAAA,qFAAH,EAAG;AAAA,2BAApDiS,IAAoD;AAAA,UAApDA,IAAoD,0BAA/C,EAA+C;AAAA,4BAA3CG,KAA2C;AAAA,UAA3CA,KAA2C,2BAArC,KAAqC;AAAA,oCAA9BF,aAA8B;AAAA,UAA9BA,aAA8B,mCAAhB,EAAgB;AAAA,2BAAZa,IAAY;AAAA,UAAZA,IAAY,0BAAP,EAAO;;AACvE,UAAIC,GAAG,GAAG,EAAV;AACAf,UAAI,CAAC1Q,OAAL,CAAa,UAAC+D,IAAD,EAAOpB,GAAP,EAAe;AACxB,YAAGkO,KAAH,EAAS;AACLY,aAAG,GAAGA,GAAG,CAACC,MAAJ,4DAA4Db,KAA5D,cAAqEF,aAArE,gBAAuF5M,IAAvF,cAA+FyN,IAA/F,mBAAN;AACH,SAFD,MAEO;AACHC,aAAG,GAAGA,GAAG,CAACC,MAAJ,4DAA4D3V,EAAE,CAAC4V,SAAH,CAAahP,GAAb,CAA5D,cAAiFgO,aAAjF,gBAAmG5M,IAAnG,cAA2GyN,IAA3G,mBAAN;AACH;AACJ,OAND;AAOA,aAAOC,GAAP;AACH;;;8BAEgB9O,G,EAAI;AACjB,UAAMiP,MAAM,GAAG,CAAC,SAAD,EAAY,WAAZ,EAAyB,SAAzB,EAAoC,QAApC,EAA8C,MAA9C,EAAsD,OAAtD,EAA+D,MAA/D,CAAf;AACA,aAAOA,MAAM,CAACjP,GAAD,CAAb;AACH;;;;;;;AACJ,C","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nmodule.exports = _readOnlyError;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = require(\"regenerator-runtime\");\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*jQuery table row dragging maintain width*/\\r\\n.ui-sortable-helper {\\r\\n    display: table;\\r\\n}\\r\\n/* Toggle icon visibility on hover */\\r\\ntr:hover i.row-ops {\\r\\n    display: block !important;\\r\\n}\\r\\n.border-3 {\\r\\n    border-width:2px !important;\\r\\n}\\r\\n.results {\\r\\n    margin: 0 !important;\\r\\n}\\r\\ntd button {\\r\\n    height: 100% !important;\\r\\n}\\r\\n.text-large {\\r\\n    font-size: 100%;\\r\\n}\\r\\n#input-layers > thead > tr > th { border-bottom: none; }\\r\\n#history > tbody > tr .text-danger:hover {\\r\\n    font-weight: bold;\\r\\n    cursor: pointer;\\r\\n}\\r\\ninput:disabled.form-control-plaintext:focus {\\r\\n        outline: none;\\r\\n}\\r\\n.cavity {\\r\\n    background-color: #f2fcff;\\r\\n}\\r\\ndiv.constrain {\\r\\n    height: 250px;\\r\\n    overflow: auto;\\r\\n}\\r\\n.table-striped>tbody>tr:nth-child(odd)>td, \\r\\n.table-striped>tbody>tr:nth-child(odd)>th {\\r\\n    background-color: #f5fbfc;\\r\\n}\\r\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","// bundle items for webpack\nimport './css/app.css'\n\n// Import components\nimport UI from './js/UI.js'\nimport Helpers from './js/Helpers.js'\nimport Therm from './js/Therm.js'\nimport Construction from './js/Construction.js'\nimport Storage from './js/Storage.js'\n\n// register for dev only\nwindow.UI = UI;\nwindow.Therm = Therm;\nwindow.Construction = Construction;\nwindow.Storage = Storage;\nwindow.Helpers = Helpers;\n\n\n\n// EVENT: Modify table row (add/delete)\ndocument.querySelector('#input-layers').addEventListener('click', e => {\n    UI.modifyRowController(e.target);\n})\n\n// EVENT: add air cavity row\ndocument.querySelector('#add-air-cavity').addEventListener('click', e => {\n    const tableBody = document.querySelector('#input-layers').querySelector('tbody')\n    UI.addToInputLayers(tableBody, \"cavity\")\n})\n\n// EVENT: Calculate\n// custom event handle\nconst event_calculate = new Event('calculate');\n\ndocument.addEventListener('calculate', e => {\n    console.log(\"Calculate!\")\n    // get table body ref\n    const table = document.querySelector('#input-layers').querySelector('tbody');\n    \n    // Check for data\n    const hasData = Helpers.doesTableHaveFormData(table);\n    if(!hasData){\n        alert('No data')\n        return\n    } else {\n        // Remove empty rows\n        Helpers.removeEmptyTableRows(table);\n        \n        // data validation\n        const hasValidInputData = Helpers.validateTableFormNumberInput(table);\n        const isComplete = Helpers.validateTableFormComplete(table);\n        const airLayerBounded = Helpers.isAirLayerBounded(table);\n        \n        if(!isComplete){\n            alert('Data missing in row. Update or delete incomplete rows.')\n            return\n        } else if(!hasValidInputData){\n            alert('> d and k values must be numbers. Please check input.\\n> Air layer thickness must be between 0 - 300mm');\n            return\n        } else if(!airLayerBounded){\n            alert('Air layer must be between two material layers')\n            return\n        } else {\n            // Get data [0] material, [1] thickness, [2] k value\n            const layerData = Helpers.extractLayerInfoFromTable(table);\n            // create Construction\n            const construction = new Construction(layerData[0], layerData[1], layerData[2]);\n            console.log(construction)\n            \n            // Clear existing charts\n            Therm.clearCharts();\n            // Draw construction\n            const chart = Therm.drawLayers(construction);\n            \n            // Get temp plot options from construction properties table\n            const plotTemps = Helpers.getPlotTemps()\n            // Draw temperature gradients \n            Therm.drawTemperatures(construction, chart, ...plotTemps)\n            \n            // Display results\n            UI.displayConstructionResults(construction);\n\n            // Record in history\n            Storage.addConstruction(construction);\n            // Update History Table\n            UI.populateHistory();\n        }        \n    }\n\n})\n\ndocument.querySelector('#calculate').addEventListener('click', e => {\n    document.dispatchEvent(event_calculate)\n});\n\n// EVENT: Load from History\ndocument.querySelector('#history').addEventListener('click', e => {\n    // if click is in input field or delete button, do nothing\n    if(e.target.tagName === 'INPUT' || e.target.innerHTML === 'delete'){ return }\n    // get parent node (table row)\n    const row = Helpers.getClosest(e.target, 'tr')\n    // check if element is table row not column (i.e. not header or other element)\n    if(row.parentElement.tagName === \"THEAD\"){ return }\n    // get construction id value\n    const id = row.querySelector('#c_id').innerHTML;\n    // retrieve construction from storage\n    const construction = Storage.getConstructionByID(id);\n    // populate input table and plot\n    if(construction){\n        UI.populateInputTableFromConstruction(construction);\n        document.dispatchEvent(event_calculate);\n        $(makeSortable());\n    }\n\n})\n\n// EVENT: DEV TESTING\ndocument.querySelector('#dev-test').addEventListener('click', () =>{\n    _dev_helpers.test_data();\n})\n\n// EVENT: Reset\ndocument.querySelector('#reset').addEventListener('click', () => {\n    // remove rows from input table\n    const inputTable = document.querySelector('#input-layers');\n    const tableBody = UI.clearTableBody(inputTable)\n    $(makeSortable());\n    // redraw input table with four rows\n    for(let i = 0; i < 4; i++){\n        UI.addToInputLayers(tableBody);\n    }\n    // reset canvas\n    Therm.clearCharts();\n    // draw default image\n    Therm.defaultCanvasImage();\n\n    // reset results window\n    UI.clearConstructionResults();\n})\n\n\n// EVENT: Clear History\ndocument.querySelector('#clear-history').addEventListener('click', () => {\n    // Clear storage\n    Storage.clearConstructions();\n    // Reload table\n    UI.populateHistory();\n})\n\n// EVENT: On load and resize\nwindow.addEventListener('load', () => {\n    // Load canvas and size it to div\n    const canvas = document.querySelector('#canvas-construction');\n    Helpers.fitToParentContainer(canvas);\n    // draw default image\n    Therm.defaultCanvasImage();\n\n    // Populate History\n    UI.populateHistory();\n})\nwindow.addEventListener('resize', () => {\n    // Resize canvas\n    const canvas = document.querySelector('#canvas-construction');\n    Helpers.fitToParentContainer(canvas);\n    // draw default image\n    Therm.defaultCanvasImage();\n})\n\n// EVENT: Click R_surface enable toggle\ndocument.querySelector('#customSwitch1').addEventListener('click', () => {\n    // recalculate\n    // replot\n    document.dispatchEvent(event_calculate);\n\n    // change column style based on toggle position\n    const toggle = document.querySelector('#customSwitch1');\n    // get column\n    const col = document.querySelector('#surface-properties');\n    // get all inputs\n    const inputs = col.querySelectorAll('input');\n    // reformat\n    inputs.forEach((input) => {\n        input.readOnly = !toggle.checked;\n        input.classList.toggle('text-body');\n    });\n    \n});\n\n// EVENT: t_o t_i refresh\ndocument.querySelector('#temp-refresh').addEventListener('click', () => {\n    // recalculate\n    // replot\n    document.dispatchEvent(event_calculate);\n})\n\n// EVENT: add name to history (click out and enter press)\ndocument.querySelector('#history').addEventListener('keyup', e => { \n    if(e.keyCode === 13){ handleHistoryName(e) }\n});\n\ndocument.querySelector('#history').addEventListener('click', e => {\n    // if the user clicks into an input field\n    if(e.target.tagName == \"INPUT\"){\n        // create a one time event listener to tell when they click out of that input field\n        e.target.addEventListener('blur', () => {\n            // write name to storage\n            handleHistoryName(e);\n        }, { once: true })\n    }  \n})\n\nfunction handleHistoryName(e){\n    // get name\n    const name = e.target.value;\n    // get construction id\n    const row = e.target.parentElement.parentElement;\n    const id = row.querySelector('#c_id').innerHTML;\n    // save name\n    Storage.updateConstructionName(id, name);\n}\n\n// EVENT History delete row\ndocument.querySelector('#history').addEventListener('click', e => {\n    // only delete if delete button clicked\n    if(e.target.innerHTML === 'delete'){\n        // get parent node (table row)\n        const row = Helpers.getClosest(e.target, 'tr');\n        // get construction id value\n        const id = row.querySelector('#c_id').innerHTML;\n        // delete from Storage\n        Storage.deleteConstruction(id);\n        // repopulate table\n        UI.populateHistory();\n     }\n})\n// EVENT: Expand history table\ndocument.querySelector('#expand-history').addEventListener('click', () => {\n    // toggle History div element height property\n    document.querySelector('#history-div').classList.toggle('constrain')\n    // toggle button text\n    const btn = document.querySelector('#expand-history');\n    const btnText = btn.querySelector('span');\n    const btnIcon = btn.querySelector('i');\n\n    if(btnText.textContent === \"Expand Table\"){\n        btnText.textContent = \"Collapse Table\";\n        btnIcon.classList.remove('fa-angle-down');\n        btnIcon.classList.add('fa-angle-up');\n    } else {\n        btnText.textContent = \"Expand Table\";\n        btnIcon.classList.remove('fa-angle-up');\n        btnIcon.classList.add('fa-angle-down');\n    }\n})\n\n// EVENT Export History Data\ndocument.querySelector('#export-history').addEventListener('click', () => {\n    Storage.exportConstructions();\n})\n\n// EVENT Import history data\ndocument.querySelector('#import-history').addEventListener('change', e => {\n    // flash alert that this will erase current hisory\n    const response = confirm(\"This will erase current history\");\n    if(response){\n        // Clear storage\n        Storage.clearConstructions();\n        // handle file and load into storage\n        Storage.importConstructionsFromFile(e.target.files);\n    }\n});\n\n// HELPERS\nclass _dev_helpers {\n    static test_data() {\n        // dummy data\n        const data = new Construction(['steel', 'wood', 'textile'], [6, 3, 8], [1.1, 2.5, 1.8]);\n        // draw\n        UI.populateInputTableFromConstruction(data);\n        document.dispatchEvent(event_calculate);\n        // add name\n        Storage.updateConstructionName(data._idToken, \"::example construction::\");\n        // reload storage\n        UI.populateHistory();\n        // make sortable\n        makeSortable();\n    }\n}\n\nfunction makeSortable(){\n    $(\".sortable\").sortable();\n}","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./app.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Construction Class: model to represent the 'construction' built from inputs\nexport default class Construction {\n    constructor(materials, thicknesses, k_vals){\n        this.materials = materials;\n        this.thicknesses = thicknesses.map(Number);\n        this.k_vals = k_vals;\n        this.r_vals = Construction.layerRValues(thicknesses, k_vals);\n        this.r_value = Construction.calcRValue(thicknesses, k_vals);\n        this.thickness = thicknesses.reduce((acc, val) => { return acc + Number(val) }, 0)\n        this._idToken = Construction.makeIDToken(materials, thicknesses, k_vals);\n    }\n\n    set name(n){\n        this._name = n;\n    }\n\n    get name(){\n        return this._name;\n    }\n\n    get u_value() {\n        return 1/this.r_value;\n    };\n\n    static u_value(construction) {\n        return 1/construction.r_value;\n    }\n\n    static calcRValue(thicknesses, k_vals){\n        let r_val = 0;\n        thicknesses.forEach((thickness, idx) => {\n            // if layer is air layer, calculate airlayerR  (air layer is assigned k_val of \"\" when created)\n            if(k_vals[idx]===\"\"){\n                r_val += Construction.airlayerResistance(thickness);\n            } else {\n                r_val += 0.001*thickness/k_vals[idx];\n                //console.log(`d: ${thickness}, k: ${k_vals[idx]}`);\n            }\n        })\n        return r_val;\n    }\n\n    // this doen't work in constructor, cant seem to access this.r_vals\n    static totalRValue(r_vals){\n        return r_vals.reduce((acc, curr) => { acc + curr }, 0)\n    }\n\n    static layerRValues(thicknesses, k_vals){\n        let r_vals = []\n        thicknesses.forEach((thickness, idx) => {\n            // if layer is air layer, calculate airlayerR (air layer is assigned k_val of \"\" when created)\n            if(k_vals[idx]===\"\"){\n                r_vals.push(Construction.airlayerResistance(thickness));\n            } else {\n            // else push r_val\n                r_vals.push(0.001*thickness/k_vals[idx]);\n            }\n        });\n        return r_vals\n    }\n\n    static makeIDToken(materials, thicknesses, k_vals) {\n        const holding = []\n        materials.forEach((material, idx) => {\n            holding.push({ \"m\": material, \"d\": [thicknesses[idx], k_vals[idx]] })\n        })\n        // sort\n        holding.sort(function(a, b){\n            const nameA = a.m.toUpperCase(); // ignore upper and lowercase\n            const nameB = b.m.toUpperCase(); // ignore upper and lowercase\n            if (nameA < nameB) {\n                return -1;\n            }\n            if (nameA > nameB) {\n                return 1;\n            }\n            // names must be equal\n            return 0;\n        });\n        // join\n        const output = []\n        holding.forEach(layer => {\n            output.push([layer.m, layer.d.join(\"_\")].join(\"_\"))\n        });\n        return output.join(\"-\")\n    }\n\n    // Calculate air layer thermal resistance (horizontal) for unventilated layer as per BS-ISO6946\n    // d needs to be validated b/w 0->300 before being passed to this function.\n    static airlayerResistance(d) {\n        const thickness = [0, 5, 7, 10, 15, 25, 300.1],\n              r = [0, 0.11, 0.13, 0.15, 0.17, 0.18, 0.18];\n        \n        const interpolateR = (d) => {\n            // find d position upper limit in thickness array\n            const idx = thickness.findIndex(function(item){ return item > d })\n            // interpolate\n            return r[idx-1] + (r[idx]-r[idx-1])*((d-thickness[idx-1])/(thickness[idx]-thickness[idx-1]))\n        }\n\n        return interpolateR(d)\n    }\n}","export default class Helpers {\n    static doesTableHaveFormData(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows (backward just because)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if material [1], thickness [2], or k [3] have value, return success\n            if(cells[1].children[0].value != '' || cells[2].children[0].value != '' || cells[3].children[0].value != ''){\n                return true;\n            }\n        }\n        // if no data found\n        return false;\n    }\n    \n    // check all rows have three input cells filled\n    static validateTableFormComplete(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows bottom to top (b/c we will be removing as we go)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if layer is air layer, skip k value validation\n            if(table_rows[i].classList.contains(\"cavity\")){\n                // if material [1], thickness [2] are empty, return 'not-valid' row.\n                if(cells[1].children[0].value === '' || cells[2].children[0].value === ''){\n                    return false;\n                }\n            } else {\n                // if material [1], thickness [2], or k [3] are empty, return 'not-valid' row.\n                if(cells[1].children[0].value === '' || cells[2].children[0].value === '' || cells[3].children[0].value === ''){\n                    return false;\n                }\n            }\n        }\n        return true;  \n    }\n\n    // check data in input rows is the right format\n    static validateTableFormNumberInput(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows (backward just because)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n\n            // if layer is air layer, skip k value validation\n            if(table_rows[i].classList.contains(\"cavity\")) {\n                // if thickness [2]cannot be cast to number, fail\n                if(!Number(cells[2].children[0].value)){\n                    return false;\n                } else if(cells[2].children[0].value < 0 || cells[2].children[0].value > 300) {\n                    // too thick for air cavity - other calculation methods are required\n                    // beyond the scope of this site.\n                    return false;\n                }\n            } else {\n                // if thickness [2], and k [3] cannot be cast to number, fail\n                if(!Number(cells[2].children[0].value) || !Number(cells[3].children[0].value)){\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    // check that air layer rows are bounded by material rows\n    static isAirLayerBounded(table) {\n        // get table rows\n        const table_rows = table.rows;\n        // loop through and check for air layers at edges or adjacent\n        let bounded = true;\n        for(let idx = 0; idx < table_rows.length; idx++) {\n            const row = table_rows[idx]\n            // if last or first table row is air layer, then it is not bounded\n            if(idx===0 && row.classList.contains(\"cavity\")) {\n                bounded = false\n            } else if(idx === table_rows.length-1 && row.classList.contains(\"cavity\")) {\n                bounded = false\n            } else if(row.classList.contains(\"cavity\")){\n                // if air cavity (not start or end), if next row is cavity, not bounded\n                if(table_rows[idx+1].classList.contains(\"cavity\")){\n                    bounded = false\n                }\n            }\n        }\n        return bounded\n\n    }\n\n    static removeEmptyTableRows(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows bottom to top (b/c we will be removing as we go)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if material [1], thickness [2], and k [3] are empty, delete row.\n            if(cells[1].children[0].value === '' && cells[2].children[0].value === '' && cells[3].children[0].value === ''){\n                UI.deleteRow(table_rows[i]);\n            }\n        }    \n    }\n\n    static extractLayerInfoFromTable(table){\n        // get table rows\n        const table_rows = table.rows;\n\n        // Initialise output arrays\n        let materials = [];\n        let thicknesses = [];\n        let k_vals = [];\n\n        // Loop through rows and save data\n        for(let i=0; i < table_rows.length; i++){\n            materials.push(table_rows[i].cells[1].children[0].value);\n            thicknesses.push(table_rows[i].cells[2].children[0].value);\n            k_vals.push(table_rows[i].cells[3].children[0].value);\n        };\n\n        return [materials, thicknesses, k_vals]\n    }\n\n    static fitToParentContainer(el) {\n        const parent = el.parentNode;\n        el.height = parent.clientHeight;\n        el.width = parent.clientWidth;\n    }\n\n    static getPlotTemps() {\n        const output = []\n        output.push(Number(document.querySelector(\"#temp-outside\").value))\n        output.push(Number(document.querySelector(\"#temp-inside\").value))\n        return output\n    }\n\n    static formatNumberLength(number, length) {\n        // if number is blank string, return early\n        if(number===\"\"){ return \"\" }\n        // get integer part\n        const integer = number.toFixed(0);\n        // if 0, then number is decimal and we want fixed length-1\n        if(integer===\"0\"){\n            return number.toFixed(length-1);\n        } else {\n            // can just use to precision\n            return number.toPrecision(length);\n        }\n    }\n\n    static precise(x, p = 4){\n        return Number.parseFloat(x).toPrecision(p)\n    }\n    static fixed(x, p = 2){\n        return Number.parseFloat(x).toFixed(p)\n    }\n\n    // jQuery method in Vanilla JS\n    static getClosest( elem, selector ) {\n\n        // Element.matches() polyfill\n        if (!Element.prototype.matches) {\n            Element.prototype.matches =\n                Element.prototype.matchesSelector ||\n                Element.prototype.mozMatchesSelector ||\n                Element.prototype.msMatchesSelector ||\n                Element.prototype.oMatchesSelector ||\n                Element.prototype.webkitMatchesSelector ||\n                function(s) {\n                    const matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                        i = matches.length;\n                    while (--i >= 0 && matches.item(i) !== this) {}\n                    return i > -1;\n                };\n        }\n\n        // Get closest match\n        for ( ; elem && elem !== document; elem = elem.parentNode ) {\n            if ( elem.matches( selector ) ) return elem;\n        }\n\n        return null;\n\n    };\n\n}\n","import Construction from \"./Construction.js\";\nimport UI from \"./UI.js\";\n\n// Storage Class: Control browser storage\nexport default class Storage {\n    // Load Storage\n    static getConstructions() {\n        let constructions;\n        if(localStorage.getItem('constructions') === null) {\n            constructions = [];\n        } else {\n            constructions = JSON.parse(localStorage.getItem('constructions'))\n        }\n        return constructions;\n    }\n\n    // get construction by id\n    static getConstructionByID(id) {\n        const constructions = Storage.getConstructions();\n        for (let construction of constructions) {\n            if(construction._idToken == id){\n                return construction\n            }\n        }\n        console.log('Construction not found in local storage. Abort.')\n        return false\n    }\n\n    // Update item in storage\n    static updateConstructionName(id, name) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // find construction to update\n        constructions.forEach((entry, idx) => {\n            if(entry._idToken === id){\n                // update name parameter\n                constructions[idx].name = name;\n            }\n        });\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Add to storage\n    static addConstruction(construction) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // check if exists\n        const newCons = constructions.every((entry) => {\n            if(entry._idToken === construction._idToken){\n                console.log('duplicate! save aborted')\n                return false;\n            }\n            return true;\n        });\n        if(!newCons){ return }\n\n        // add construction\n        constructions.push(construction);\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Delete from Storage\n    static deleteConstruction(id) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // find construction to delete\n        for(let i = 0; i < constructions.length; i++){\n            if(constructions[i]._idToken === id){\n                // delete\n                constructions.splice(i, 1);\n                break;\n            }\n        }\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Clear storage\n    static clearConstructions() {\n        localStorage.removeItem('constructions');\n    }\n\n    // convert storage into csv file\n    static JSONtoCSV(){\n        // get constructions\n        const constructions = Storage.getConstructions();\n        // csv headers\n        const csvHeaders = ['id', 'name', 'material', 'thickness', 'k-val', 'r-val', 'total-r'];\n        // make csv content\n        const csvBody = [];\n        constructions.forEach((c, c_idx) => {\n            // create new row per material layer\n            c.materials.forEach((m, idx) => {\n                csvBody.push([\n                    c_idx,\n                    c.name,\n                    m,\n                    c.thicknesses[idx],\n                    c.k_vals[idx],\n                    c.r_vals[idx],\n                    c.r_value\n                ]);\n            });\n        });\n        // insert csv headers at start of data\n        csvBody.unshift(csvHeaders)\n        // join into csv string\n        return csvBody.join(\"\\n\")\n    }\n    \n    // convert CSV to Constructions\n    static CSVtoConstruction(csv_data){\n        // convert to list per row\n        const data = csv_data.split('\\n');\n        // remove header\n        data.shift();\n        // results containers\n        let materials = [], thicknesses = [], k_vals = [];\n        // current construction id (for processing layers)\n        let c_id, name;\n        // loop through each row, extract info for a construction and create\n        data.forEach((row, idx) => {\n            // split row into element\n            const layer = row.split(',');\n            // validate number of columns [id, name, mat, d, k]\n            if(layer.length < 5){ return }\n            // set c_id, name on first iteration\n            if(idx==0){ c_id = layer[0]; name = layer[1] }\n            // if construction id does not == previous, save existing construction, reset and start new construction\n            if(layer[0] != c_id){\n                // create & save construction\n                saveConstruction(materials, thicknesses, k_vals, name);\n                // reset variables\n                materials = [];\n                thicknesses = [];\n                k_vals = [];\n                // set new c_id, name\n                c_id = layer[0];\n                name = layer[1];\n            }\n\n            // process layer\n            materials.push(layer[2]);\n            thicknesses.push(layer[3]);\n            k_vals.push(layer[4]);\n\n        })\n        // create final construction\n        saveConstruction(materials, thicknesses, k_vals, name);\n\n        // Helper\n        function saveConstruction(m, t, k, n){\n            const c = new Construction(m, t, k);\n            // save construction\n            Storage.addConstruction(c);\n            console.log(n);\n            Storage.updateConstructionName(c._idToken, n)\n\n        }\n    }\n\n\n    // export to csv\n    static exportConstructions(){\n        // convert stored constructions to csv-like format\n        const csv = Storage.JSONtoCSV();\n        // set params via a 'hidden' element\n        const hiddenElement = document.createElement('a');\n        hiddenElement.href = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(csv);\n        hiddenElement.target = '_blank';\n        hiddenElement.download = 'constructions.csv'\n        hiddenElement.click();\n    }\n\n    // import from csv\n    static async importConstructionsFromFile(fileList){\n        // upload button is restricted to one-file.\n        // get file element\n        const file = fileList[0];\n        // read file element\n        const reader = new FileReader();\n        reader.readAsText(file);\n        // event on read (b/c async we just can't call this sequentially)\n        reader.onload = function() {\n            Storage.CSVtoConstruction(reader.result)\n        }\n        reader.onloadend = function() {\n            UI.populateHistory();\n        }\n        reader.onerror = function() {\n            alert(\"read failed. check console for details\")\n            console.log(reader.error)\n        }\n    }\n}","import UI from './UI.js';\nimport Helpers from './Helpers.js';\n\n// Therm Class: Calculation and rendering methods\nexport default class Therm {\n\n    static drawLayers(construction) {\n        // process data (add air layers, convert to Chart.js format)\n        const dataset = Therm.get_dataset(construction);\n\n        // get canvas\n        const canvas = document.querySelector('#canvas-construction');\n        // set context\n        const ctx = canvas.getContext(\"2d\");\n\n        // draw\n        const myChart = new Chart(ctx, {\n            type: 'horizontalBar',\n            data: {\n                labels: [\"construction\"],\n                datasets: dataset\n                //borderColor: 'rgb(255, 99, 132)'\n            },\n            options: {\n                legend: {\n                    display: true,\n                    onClick: null,\n                    labels: {\n                        filter: function(item, chart) {\n                            let state = true;\n                            // check if cavity\n                            if(item.text===\"== unventilated cavity ==\"){\n                                // Logic to remove air cavity label if another exists\n                                // get legend items\n                                const labels = chart['datasets']\n                                // loop through items\n                                for(let i=0; i<labels.length-1;i++){\n                                    //get first item that is cavity, then check if it is same index as current legend item\n                                    if(labels[i].label===\"== unventilated cavity ==\"){\n                                        // if it is same item, keep item and break the filter loop\n                                        if(i === item.datasetIndex){\n                                            break;\n                                        } else {\n                                            // if it is not same item, then this is a duplicate lengend entry and should be removed\n                                            state = false;\n                                            break;\n                                        }\n                                    }\n                                }\n                                //for(let i =)\n                            } else {\n                                // Logic to remove a particular legend item goes here\n                                const items = ['air (ext.)', 'air (int.)'];\n                                if(items.some(el => item.text.includes(el))){ state = false }\n                            }\n                            \n                            \n                            return state;\n                        }\n                    }\n                },\n                scales: {\n                    yAxes: [{\n                        categoryPercentage: 1.0,\n                        barPercentage: 1.0,\n                        position: 'right'\n                    }],\n                    xAxes: [{\n                        scaleLabel: {display: true, labelString: 'thickness'},\n                        ticks: {\n                            stepSize: 1.0,\n                            maxRotation: 0,\n                            callback: function(value, index, values){\n                                const n = values.length;\n                                if(n <= 25){\n                                    return value\n                                } else if(n > 25 && n <= 50){\n                                    if( index % 2 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 50 && n <= 75){\n                                    if( index % 2 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 75 && n <= 100){\n                                    if( index % 3 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 100 && n <= 125){\n                                    if( index % 5 == 0 ){\n                                        return value\n                                    }\n                                } else {\n                                    if( index % 10 == 0 ){\n                                        return value\n                                    }\n                                }\n                            }\n                        },\n                        afterBuildTicks: function(axis, ticks){\n                            // filter ticks so that only ticks around construction are shown\n                            return ticks.filter((val, idx, arr) => {\n                                // get construction thickness\n                                const limit = construction.thickness\n                                return val >= 0 && val <= limit;\n                            })\n                        }\n                    }]\n                },\n                tooltips: {\n                    mode: 'nearest',\n                    callbacks: {\n                        title: function(tooltipItem, data) {\n                            let label = tooltipItem[0].label;\n                            if(label === \"construction\"){\n                                // get title of data\n                                let label = data.datasets[tooltipItem[0].datasetIndex].label\n                                // if surface resistance or air boundary, just show name\n                                if(Therm.supportingLayerNames().includes(label)){\n                                    return label\n                                } else {\n                                    return \"construction\"\n                                }\n                            } else {\n                                return \"temperature\"\n                            }\n                        },\n                        label: function(tooltipItem, data) {\n                            // if construction show thickness with mm\n                            if(tooltipItem.label === \"construction\"){\n                                let label = data.datasets[tooltipItem.datasetIndex].label;\n                                // if surface resistance show nothing\n                                if(Therm.supportingLayerNames(\"surface\").includes(label)){\n                                    return\n                                //if air boundary, show temperature\n                                } else if(Therm.supportingLayerNames(\"air\").includes(label)) {\n                                    if(tooltipItem.value < 0){\n                                        // temp is always first dataset\n                                        // left side air layer, get left side temp value\n                                        return `${data.datasets[0].data[0].y} ${String.fromCharCode(176)}C`\n                                    } else {\n                                        // right side air layer, get right side temp value\n                                        return `${data.datasets[0].data[data.datasets[0].data.length-1].y} ${String.fromCharCode(176)}C`\n                                    }\n                                } else {\n                                    // material. Show thickness AND layer r-val AND x-val\n                                    let layer_idx = construction.materials.indexOf(label);\n                                    let x_pos = (construction.thicknesses.slice(0,layer_idx+1)).reduce((a, b) => a + b, 0);\n                                    return [\n                                        `${label}: ${tooltipItem.value} mm`, \n                                        `R: ${Helpers.precise(construction.r_vals[layer_idx], 3)}`,\n                                        `x = ${Helpers.fixed(x_pos)} mm`\n                                    ]\n                                }\n                            } else {\n                                // Temperature Point\n                                // show temp with degC and x (x if not endpoint)\n                                const tempDataLength = data.datasets[tooltipItem.datasetIndex].data.length;\n                                const tooltip = [`${Helpers.fixed(tooltipItem.value)} ${String.fromCharCode(176)}C`]\n                                // if not endpoint, include x-value\n                                if(tooltipItem.index != 0 && tooltipItem.index != tempDataLength-1) {\n                                    tooltip.push(`x = ${Helpers.fixed(tooltipItem.xLabel)} mm`)\n                                }\n                                return tooltip\n                            }\n                        }\n                    },\n                },\n                responsive: false\n            }\n        });\n\n        return myChart\n    }\n\n    static clearCharts() {\n        Chart.helpers.each(Chart.instances, instance => {\n            instance.chart.destroy();\n        })\n    }\n\n    static drawTemperatures(construction, chart, t_o = 35, t_i = 24) {\n        // insert first so drawn ontop of bar chart\n        chart.data.datasets.unshift({\n            label: \"temperature\",\n            data: Therm.calculateIntermediateTemps(construction, chart, t_o, t_i),\n            type: 'line',\n            yAxisID: 'y-line',\n            lineTension: 0,\n            borderWidth: 1,\n            borderColor: '#f00',\n            pointStyle: 'circle',\n            pointBorderColor: '#f00',\n            pointBackgroundColor: '#f00',\n            backgroundColor: 'rgba(0, 0, 0, 0.0)'\n        });\n        chart.options.scales.yAxes.push({\n            id: 'y-line',\n            type: 'linear',\n            position: 'left',\n            ticks: {\n                min: 2*Math.round((Math.min(t_o,t_i)-2)/2),\n                max: 2*Math.round((Math.max(t_o,t_i)+2)/2)\n            },            \n            scaleLabel: {\n                labelString: \"Temperature\",\n                display: true,\n                fontColor: '#f00'\n            }\n        });\n        chart.update();\n    }\n\n    static calculateQ_area(construction, t_o, t_i) {\n        // Q/A = UdT [W/m2]\n        return construction.u_value * (t_o - t_i)\n    }\n\n    // calculate temperatures between layers in construction\n    static calculateIntermediateTemps(construction, chart, t_o, t_i) {\n        // Get heat transfer rate for construction\n        const Q_area = Therm.calculateQ_area(construction, t_o, t_i);\n        // get x-axis range\n        const xMin = chart.scales['x-axis-0'].min;\n        const xMax = chart.scales['x-axis-0'].max;\n        // intialise first temps in output array (external temperature)\n        const temps = [{x: 0, y: t_o}]\n        // loop through r vals, calculate temps external to internal\n        construction.r_vals.forEach((r_val, idx) => {\n            // get intermediate temp based on temp to left\n            let t_n = temps[idx]['y'] - (Q_area / (1 / r_val));\n            temps.push({x: temps[idx]['x']+construction.thicknesses[idx], y: t_n})\n        })\n        // push end points\n        temps.unshift({x: xMin, y:t_o})\n        temps.push({x: xMax, y: t_i})\n        return temps\n    }\n\n    static get_dataset(data) {\n        // define external and internal air layers\n        const ext_air = {label: 'air (ext.)', data: [-20], backgroundColor: 'rgba(0,0,0,0)', stack: \"main\"}\n        const int_air = {label: 'air (int.)', data: [20], backgroundColor: 'rgba(0,0,0,0)', stack: \"main\"}\n        // define output\n        const output = [];\n        // if surface resitance enabled\n        const surface = UI.surfaceResistanceEnabled()\n        if(surface){\n            // define surface layers\n            const r_ext = {label: 'R_surface (ext.)', data: [-0.05], backgroundColor: 'rgba(89, 241, 234, 1)', stack: \"main\"}\n            output.push(r_ext)\n        }\n        \n        // create output array, set first item as air external, second as ext surface resistance\n        output.push(ext_air);\n        data.materials.forEach((material, idx) => {\n            let d = {};\n\n            d.label = material;\n            d.data = [data.thicknesses[idx]];\n            //d.borderWidth = 2;\n            d.stack = \"main\";\n            // if air cavity make transperent\n            if(data.k_vals[idx]===\"\"){\n                d.backgroundColor = 'rgba(232, 246, 247, 0.4)';\n            } else {\n                // from randomColor library\n                d.backgroundColor = randomColor();\n            }\n            \n\n            output.push(d);\n        })\n        if(surface){\n            const r_int = {label: 'R_surface (int.)', data: [0.05], backgroundColor: 'rgba(89, 241, 234, 1)', stack: \"main\"}\n            output.push(r_int)\n        };\n        output.push(int_air);\n        return output;\n    }\n\n    static calcTotalR(construction, r_int, r_ext) {\n        return Number(construction.r_value) + r_int + r_ext;\n    }\n\n    static defaultCanvasImage(){\n        // get canvas\n        const canvas = document.querySelector('#canvas-construction');\n        // set context\n        const ctx = canvas.getContext('2d');\n        // get canvas height and width\n        const h = canvas.clientHeight;\n        const w = canvas.clientWidth;\n        // clear canvas content (if exists)\n        ctx.clearRect(0,0,w,h);\n        // set inlay offset\n        const offset = 5;\n        // draw rectangle\n        ctx.lineWidth = 0.3;\n        ctx.strokeRect(offset, offset, w-offset*2, h-offset*2);\n        // draw message\n        ctx.font = \"18px Lato\";\n        ctx.textAlign = \"center\";\n        ctx.fillStyle = \"gray\";\n        if(window.innerWidth <= 768){\n            ctx.fillText(\"to draw a construction enter material details\", w/2, h/2 + 18/2);\n            ctx.fillText(\"in the input table or select from history below\", w/2, h/2 - 18/2);\n        }else{\n            ctx.fillText(\"to draw a construction enter material details in the input table or select from history below\", w/2, h/2);\n        }\n    }\n\n    \n\n    // HELPERS\n    static supportingLayerNames(category = \"all\") {\n        let names = ['R_surface (ext.)', 'R_surface (int.)', 'air (int.)', 'air (ext.)'];\n        switch(category) {\n            case \"all\":\n                return names\n            case \"surface\":\n                return names.slice(0,2)\n            case \"air\":\n                return names.slice(2,4)\n        }\n    }\n}","import Storage from \"./Storage.js\";\nimport Therm from \"./Therm.js\";\nimport Construction from \"./Construction.js\";\n\n// UI Class: Control on-screen rendering (except Canvas)\nexport default class UI {\n    static modifyRowController(el) {\n        if(el.classList.contains('delete-row')){\n            console.log('Delete row!')\n            UI.deleteRow(el)\n        } else if(el.classList.contains('add-row')){\n            console.log('Add row above!')\n            UI.addRowAbove(el)\n        }\n    }\n\n    static addRowAbove(row) {\n        // Get index of row in table\n        const idx = row.closest('tr').rowIndex;\n        // Get table element\n        const table = row.closest('table');\n        // Insert row into table at index\n        const newRow = table.insertRow(idx);\n        // Fill row with styled table row html\n        newRow.innerHTML = UI.rowInnerHTML();\n\n    }\n\n    static deleteRow(cell) {\n        // Find row cell belongs too and remove row\n        cell.closest('tr').remove();\n    }\n\n    static addToInputLayers(table_body, rowtype=\"material\") {\n        const row = document.createElement('tr');\n        let new_row;\n        if(rowtype===\"cavity\"){\n            row.classList.add(\"cavity\");\n            row.innerHTML = UI.cavityRowInnerHTML();\n        } else {\n            row.innerHTML = UI.rowInnerHTML();\n        }\n        //append to table, return handle\n        new_row = table_body.appendChild(row);\n        return new_row\n    }\n\n    static clearTableBody(table) {\n        // // returns handle to new table body\n        // remove body\n        table.querySelector('tbody').remove();\n        // add new body\n        const body = document.createElement('tbody');\n        body.classList.add('sortable');\n        const tableBody = table.appendChild(body);\n        \n        return tableBody\n    }\n\n    static populateHistory() {\n        // get history table handle\n        const historyTable = document.querySelector('#history');\n        // clear table\n        const tableBody = UI.clearTableBody(historyTable);\n        // get local storage data\n        const constructions = Storage.getConstructions();\n\n        // repopulate\n        constructions.forEach((construction) => {\n            UI.addToHistory(construction, tableBody);\n        })\n    }\n\n    static addToHistory(construction, table) {\n        // create new row element\n        const row = document.createElement('tr');\n        \n        // fill row\n        row.innerHTML = `\n            <th scope=\"row\"><input type=\"text\" placeholder=\"add name here...\" class=\"form-control-plaintext font-weight-bold\" value=\"${construction.name || ''}\"></th>\n            <td>${UI.badgeFormatter({list: construction.materials, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.thicknesses, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.k_vals, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.r_vals.map(val => { return Helpers.formatNumberLength(val, 5)}), class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: [Helpers.formatNumberLength(Construction.u_value(construction), 5)], style: 'warning', class_options: 'text-large'})}</td>\n            <td>${UI.badgeFormatter({list: [Helpers.formatNumberLength(construction.r_value, 5)], style: 'warning', class_options: 'text-large'})}</td>\n            <td class=\"align-middle text-center text-danger\">delete</td>\n            <td class=\"d-none\" id=\"c_id\">${construction._idToken}</td>`;\n        \n        // append row to table\n        table.appendChild(row);\n    }\n\n    static populateInputTableFromConstruction(construction){\n        const table = document.querySelector('#input-layers');\n        const tableBody = UI.clearTableBody(table);\n        // for each construction layer, add row and populate\n        construction.materials.forEach((material, idx) => {\n            const data = [material, construction.thicknesses[idx], construction.k_vals[idx]];\n            // check for row type: material or air layer\n            let rowtype;\n            if(data[2] === \"\"){\n                rowtype = \"cavity\"\n            } else {\n                rowtype = \"material\"\n            }\n            const new_row = UI.addToInputLayers(tableBody, rowtype);\n            const fields = new_row.querySelectorAll('input');\n            fields.forEach((field, idx) => {\n                field.value = data[idx];\n            });\n        })\n    }\n\n    static displayConstructionResults(construction) {\n        // set display digit length\n        const numDigits = 5;\n\n        const r = document.querySelector(\"#r-construction\");\n        const u = document.querySelector(\"#u-construction\");\n        r.value = Helpers.formatNumberLength(construction.r_value, numDigits);\n        u.value = Helpers.formatNumberLength(construction.u_value, numDigits);\n        \n        const r_t = document.querySelector(\"#r-total\");\n        const u_t = document.querySelector(\"#u-total\");\n        if(UI.surfaceResistanceEnabled()){\n            const r_surface = UI.getSurfaceResistance();\n            const r_total = Therm.calcTotalR(construction, ...r_surface);\n            r_t.value = Helpers.formatNumberLength(r_total, numDigits);\n            u_t.value = Helpers.formatNumberLength((1/r_total), numDigits);\n        } else {\n            r_t.value = Helpers.formatNumberLength(construction.r_value, numDigits);\n            u_t.value = Helpers.formatNumberLength(construction.u_value, numDigits);\n        }\n    }\n\n    static clearConstructionResults() {\n        const r = document.querySelector(\"#r-construction\");\n        const u = document.querySelector(\"#u-construction\");\n        const r_t = document.querySelector(\"#r-total\");\n        const u_t = document.querySelector(\"#u-total\");\n\n        r.value = \"0.0\"\n        u.value = \"0.0\"\n        r_t.value = \"0.0\"\n        u_t.value = \"0.0\"\n    }\n\n    static getSurfaceResistance() {\n        const output  = [];\n        output.push(Number(document.querySelector(\"#r-external\").value));\n        output.push(Number(document.querySelector(\"#r-internal\").value));\n        return output\n    }\n\n    static surfaceResistanceEnabled() {\n        return document.querySelector('#customSwitch1').checked\n    }\n\n    // HELPERS\n    static rowInnerHTML() {\n        // Stores row HTML for new rows. Not sure where else to keep this?\n        const innerHTML = \n        `<td class=\"align-middle text-center\"><i class=\"fas fa-circle fa-xs text-primary\"></i></td>\n        <td><input type=\"text\" placeholder=\"material name\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" placeholder=\"depth\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" placeholder=\"k-val\" class=\"form-control-plaintext\"></td>\n        <td class=\"align-middle text-center\"><i class=\"far fa-plus-square fa-lg d-none row-ops add-row\"></i></td>\n        <td class=\"align-middle text-center\"><i class=\"fas fa-times fa-lg d-none row-ops text-danger delete-row\"></i></td>`;\n        return innerHTML\n    };\n\n    static cavityRowInnerHTML() {\n        const innerHTML =\n        `<td class=\"align-middle text-center\"><i class=\"fas fa-circle fa-xs text-primary\"></i></td>\n        <td><input type=\"text\" disabled value=\"== unventilated cavity ==\" class=\"form-control-plaintext font-italic\"></td>\n        <td><input type=\"text\" value=\"20\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" disabled value=\"\" class=\"form-control-plaintext text-secondary\"></td>\n        <td class=\"align-middle text-center\"><i class=\"far fa-plus-square fa-lg d-none row-ops add-row\"></i></td>\n        <td class=\"align-middle text-center\"><i class=\"fas fa-times fa-lg d-none row-ops text-danger delete-row\"></i></td>`;\n        return innerHTML\n    }\n\n    static badgeFormatter({list=[], style=false, class_options='', unit=''}={}){\n        let els = '';\n        list.forEach((item, idx) => {\n            if(style){\n                els = els.concat(`<div class=\"d-block\"><span class=\"badge badge-${style} ${class_options}\">${item} ${unit}</span></div>`)\n            } else {\n                els = els.concat(`<div class=\"d-block\"><span class=\"badge badge-${UI.colorList(idx)} ${class_options}\">${item} ${unit}</span></div>`)\n            }\n        });\n        return els \n    }\n\n    static colorList(idx){\n        const colors = ['primary', 'secondary', 'success', 'danger', 'info', 'light', 'dark'];\n        return colors[idx]\n    }\n};\n"],"sourceRoot":""}
>>>>>>> fc9d3dc... Add logic to split default canvas text over two lines on small screens
=======
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/readOnlyError.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/css/app.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/app.js","webpack:///./src/css/app.css?7c0e","webpack:///./src/js/Construction.js","webpack:///./src/js/Helpers.js","webpack:///./src/js/Storage.js","webpack:///./src/js/Therm.js","webpack:///./src/js/UI.js"],"names":["window","UI","Therm","Construction","Storage","Helpers","document","querySelector","addEventListener","e","modifyRowController","target","tableBody","addToInputLayers","event_calculate","Event","console","log","table","hasData","doesTableHaveFormData","alert","removeEmptyTableRows","hasValidInputData","validateTableFormNumberInput","isComplete","validateTableFormComplete","airLayerBounded","isAirLayerBounded","layerData","extractLayerInfoFromTable","construction","clearCharts","chart","drawLayers","plotTemps","getPlotTemps","drawTemperatures","displayConstructionResults","addConstruction","populateHistory","dispatchEvent","tagName","innerHTML","row","getClosest","parentElement","id","getConstructionByID","populateInputTableFromConstruction","$","makeSortable","_dev_helpers","test_data","inputTable","clearTableBody","i","defaultCanvasImage","clearConstructionResults","clearConstructions","canvas","fitToParentContainer","toggle","col","inputs","querySelectorAll","forEach","input","readOnly","checked","classList","keyCode","handleHistoryName","once","name","value","updateConstructionName","deleteConstruction","btn","btnText","btnIcon","textContent","remove","add","exportConstructions","response","confirm","importConstructionsFromFile","files","data","_idToken","sortable","materials","thicknesses","k_vals","map","Number","r_vals","layerRValues","r_value","calcRValue","thickness","reduce","acc","val","makeIDToken","n","_name","r_val","idx","airlayerResistance","curr","push","holding","material","sort","a","b","nameA","m","toUpperCase","nameB","output","layer","d","join","r","interpolateR","findIndex","item","table_rows","rows","length","cells","children","contains","bounded","deleteRow","el","parent","parentNode","height","clientHeight","width","clientWidth","number","integer","toFixed","toPrecision","x","p","parseFloat","elem","selector","Element","prototype","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","constructions","localStorage","getItem","JSON","parse","getConstructions","entry","setItem","stringify","newCons","every","splice","removeItem","csvHeaders","csvBody","c","c_idx","unshift","csv_data","split","shift","c_id","saveConstruction","t","k","csv","JSONtoCSV","hiddenElement","createElement","href","encodeURIComponent","download","click","fileList","file","reader","FileReader","readAsText","onload","CSVtoConstruction","result","onloadend","onerror","error","dataset","get_dataset","ctx","getContext","myChart","Chart","type","labels","datasets","options","legend","display","onClick","filter","state","text","label","datasetIndex","items","some","includes","scales","yAxes","categoryPercentage","barPercentage","position","xAxes","scaleLabel","labelString","ticks","stepSize","maxRotation","callback","index","values","afterBuildTicks","axis","arr","limit","tooltips","mode","callbacks","title","tooltipItem","supportingLayerNames","y","String","fromCharCode","layer_idx","indexOf","x_pos","slice","precise","fixed","tempDataLength","tooltip","xLabel","responsive","helpers","each","instances","instance","destroy","t_o","t_i","calculateIntermediateTemps","yAxisID","lineTension","borderWidth","borderColor","pointStyle","pointBorderColor","pointBackgroundColor","backgroundColor","min","Math","round","max","fontColor","update","u_value","Q_area","calculateQ_area","xMin","xMax","temps","t_n","ext_air","stack","int_air","surface","surfaceResistanceEnabled","r_ext","randomColor","r_int","h","w","clearRect","offset","lineWidth","strokeRect","font","textAlign","fillStyle","innerWidth","fillText","category","names","addRowAbove","closest","rowIndex","newRow","insertRow","rowInnerHTML","cell","table_body","rowtype","new_row","cavityRowInnerHTML","appendChild","body","historyTable","addToHistory","badgeFormatter","list","class_options","formatNumberLength","style","fields","field","numDigits","u","r_t","u_t","r_surface","getSurfaceResistance","r_total","calcTotalR","unit","els","concat","colorList","colors"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,mC;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,gC;;;;;;;;;;;ACJA,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD,sBAAsB,mBAAO,CAAC,mFAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,uFAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA,iBAAiB,mBAAO,CAAC,0EAAqB;;;;;;;;;;;;ACA9C,2BAA2B,mBAAO,CAAC,wGAAmD;AACtF;AACA,cAAc,QAAS,wEAAwE,uBAAuB,KAAK,iEAAiE,kCAAkC,KAAK,eAAe,oCAAoC,KAAK,cAAc,6BAA6B,KAAK,eAAe,gCAAgC,KAAK,iBAAiB,wBAAwB,KAAK,qCAAqC,qBAAqB,EAAE,8CAA8C,0BAA0B,wBAAwB,KAAK,iDAAiD,0BAA0B,KAAK,aAAa,kCAAkC,KAAK,mBAAmB,sBAAsB,uBAAuB,KAAK,8FAA8F,kCAAkC,KAAK;;;;;;;;;;;;;ACF/4B;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,2CAA2C,qBAAqB;AAChE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrtBa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;;AAEA;AACA;;AAEA,YAAY,2BAA2B;AACvC;AACA;;AAEA,YAAY,uBAAuB;AACnC;AACA;AACA,KAAK;AACL;;AAEA,YAAY,uBAAuB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,kCAAkC;;AAElC;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,wFAAwF;AACxF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,uBAAuB,4BAA4B;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzRA;CAGA;;AACA;AACA;AACA;AACA;CAGA;;AACAA,MAAM,CAACC,EAAP,GAAYA,iDAAZ;AACAD,MAAM,CAACE,KAAP,GAAeA,oDAAf;AACAF,MAAM,CAACG,YAAP,GAAsBA,2DAAtB;AACAH,MAAM,CAACI,OAAP,GAAiBA,sDAAjB;AACAJ,MAAM,CAACK,OAAP,GAAiBA,sDAAjB,C,CAIA;;AAC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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nmodule.exports = _readOnlyError;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = require(\"regenerator-runtime\");\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*jQuery table row dragging maintain width*/\\r\\n.ui-sortable-helper {\\r\\n    display: table;\\r\\n}\\r\\n/* Toggle icon visibility on hover */\\r\\ntr:hover i.row-ops {\\r\\n    display: block !important;\\r\\n}\\r\\n.border-3 {\\r\\n    border-width:2px !important;\\r\\n}\\r\\n.results {\\r\\n    margin: 0 !important;\\r\\n}\\r\\ntd button {\\r\\n    height: 100% !important;\\r\\n}\\r\\n.text-large {\\r\\n    font-size: 100%;\\r\\n}\\r\\n#input-layers > thead > tr > th { border-bottom: none; }\\r\\n#history > tbody > tr .text-danger:hover {\\r\\n    font-weight: bold;\\r\\n    cursor: pointer;\\r\\n}\\r\\ninput:disabled.form-control-plaintext:focus {\\r\\n        outline: none;\\r\\n}\\r\\n.cavity {\\r\\n    background-color: #f2fcff;\\r\\n}\\r\\ndiv.constrain {\\r\\n    height: 250px;\\r\\n    overflow: auto;\\r\\n}\\r\\n.table-striped>tbody>tr:nth-child(odd)>td, \\r\\n.table-striped>tbody>tr:nth-child(odd)>th {\\r\\n    background-color: #f5fbfc;\\r\\n}\\r\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","// bundle items for webpack\nimport './css/app.css'\n\n// Import components\nimport UI from './js/UI.js'\nimport Helpers from './js/Helpers.js'\nimport Therm from './js/Therm.js'\nimport Construction from './js/Construction.js'\nimport Storage from './js/Storage.js'\n\n// register for dev only\nwindow.UI = UI;\nwindow.Therm = Therm;\nwindow.Construction = Construction;\nwindow.Storage = Storage;\nwindow.Helpers = Helpers;\n\n\n\n// EVENT: Modify table row (add/delete)\ndocument.querySelector('#input-layers').addEventListener('click', e => {\n    UI.modifyRowController(e.target);\n})\n\n// EVENT: add air cavity row\ndocument.querySelector('#add-air-cavity').addEventListener('click', e => {\n    const tableBody = document.querySelector('#input-layers').querySelector('tbody')\n    UI.addToInputLayers(tableBody, \"cavity\")\n})\n\n// EVENT: Calculate\n// custom event handle\nconst event_calculate = new Event('calculate');\n\ndocument.addEventListener('calculate', e => {\n    console.log(\"Calculate!\")\n    // get table body ref\n    const table = document.querySelector('#input-layers').querySelector('tbody');\n    \n    // Check for data\n    const hasData = Helpers.doesTableHaveFormData(table);\n    if(!hasData){\n        alert('No data')\n        return\n    } else {\n        // Remove empty rows\n        Helpers.removeEmptyTableRows(table);\n        \n        // data validation\n        const hasValidInputData = Helpers.validateTableFormNumberInput(table);\n        const isComplete = Helpers.validateTableFormComplete(table);\n        const airLayerBounded = Helpers.isAirLayerBounded(table);\n        \n        if(!isComplete){\n            alert('Data missing in row. Update or delete incomplete rows.')\n            return\n        } else if(!hasValidInputData){\n            alert('> d and k values must be numbers. Please check input.\\n> Air layer thickness must be between 0 - 300mm');\n            return\n        } else if(!airLayerBounded){\n            alert('Air layer must be between two material layers')\n            return\n        } else {\n            // Get data [0] material, [1] thickness, [2] k value\n            const layerData = Helpers.extractLayerInfoFromTable(table);\n            // create Construction\n            const construction = new Construction(layerData[0], layerData[1], layerData[2]);\n            console.log(construction)\n            \n            // Clear existing charts\n            Therm.clearCharts();\n            // Draw construction\n            const chart = Therm.drawLayers(construction);\n            \n            // Get temp plot options from construction properties table\n            const plotTemps = Helpers.getPlotTemps()\n            // Draw temperature gradients \n            Therm.drawTemperatures(construction, chart, ...plotTemps)\n            \n            // Display results\n            UI.displayConstructionResults(construction);\n\n            // Record in history\n            Storage.addConstruction(construction);\n            // Update History Table\n            UI.populateHistory();\n        }        \n    }\n\n})\n\ndocument.querySelector('#calculate').addEventListener('click', e => {\n    document.dispatchEvent(event_calculate)\n});\n\n// EVENT: Load from History\ndocument.querySelector('#history').addEventListener('click', e => {\n    // if click is in input field or delete button, do nothing\n    if(e.target.tagName === 'INPUT' || e.target.innerHTML === 'delete'){ return }\n    // get parent node (table row)\n    const row = Helpers.getClosest(e.target, 'tr')\n    // check if element is table row not column (i.e. not header or other element)\n    if(row.parentElement.tagName === \"THEAD\"){ return }\n    // get construction id value\n    const id = row.querySelector('#c_id').innerHTML;\n    // retrieve construction from storage\n    const construction = Storage.getConstructionByID(id);\n    // populate input table and plot\n    if(construction){\n        UI.populateInputTableFromConstruction(construction);\n        document.dispatchEvent(event_calculate);\n        $(makeSortable());\n    }\n\n})\n\n// EVENT: DEV TESTING\ndocument.querySelector('#dev-test').addEventListener('click', () =>{\n    _dev_helpers.test_data();\n})\n\n// EVENT: Reset\ndocument.querySelector('#reset').addEventListener('click', () => {\n    // remove rows from input table\n    const inputTable = document.querySelector('#input-layers');\n    const tableBody = UI.clearTableBody(inputTable)\n    $(makeSortable());\n    // redraw input table with four rows\n    for(let i = 0; i < 4; i++){\n        UI.addToInputLayers(tableBody);\n    }\n    // reset canvas\n    Therm.clearCharts();\n    // draw default image\n    Therm.defaultCanvasImage();\n\n    // reset results window\n    UI.clearConstructionResults();\n})\n\n\n// EVENT: Clear History\ndocument.querySelector('#clear-history').addEventListener('click', () => {\n    // Clear storage\n    Storage.clearConstructions();\n    // Reload table\n    UI.populateHistory();\n})\n\n// EVENT: On load and resize\nwindow.addEventListener('load', () => {\n    // Load canvas and size it to div\n    const canvas = document.querySelector('#canvas-construction');\n    Helpers.fitToParentContainer(canvas);\n    // draw default image\n    Therm.defaultCanvasImage();\n\n    // Populate History\n    UI.populateHistory();\n})\nwindow.addEventListener('resize', () => {\n    // Clear canvas\n    Therm.clearCharts();\n    // Resize canvas\n    const canvas = document.querySelector('#canvas-construction');\n    Helpers.fitToParentContainer(canvas);\n    // draw default image\n    Therm.defaultCanvasImage();\n})\n\n// EVENT: Click R_surface enable toggle\ndocument.querySelector('#customSwitch1').addEventListener('click', () => {\n    // recalculate\n    // replot\n    document.dispatchEvent(event_calculate);\n\n    // change column style based on toggle position\n    const toggle = document.querySelector('#customSwitch1');\n    // get column\n    const col = document.querySelector('#surface-properties');\n    // get all inputs\n    const inputs = col.querySelectorAll('input');\n    // reformat\n    inputs.forEach((input) => {\n        input.readOnly = !toggle.checked;\n        input.classList.toggle('text-body');\n    });\n    \n});\n\n// EVENT: t_o t_i refresh\ndocument.querySelector('#temp-refresh').addEventListener('click', () => {\n    // recalculate\n    // replot\n    document.dispatchEvent(event_calculate);\n})\n\n// EVENT: add name to history (click out and enter press)\ndocument.querySelector('#history').addEventListener('keyup', e => { \n    if(e.keyCode === 13){ handleHistoryName(e) }\n});\n\ndocument.querySelector('#history').addEventListener('click', e => {\n    // if the user clicks into an input field\n    if(e.target.tagName == \"INPUT\"){\n        // create a one time event listener to tell when they click out of that input field\n        e.target.addEventListener('blur', () => {\n            // write name to storage\n            handleHistoryName(e);\n        }, { once: true })\n    }  \n})\n\nfunction handleHistoryName(e){\n    // get name\n    const name = e.target.value;\n    // get construction id\n    const row = e.target.parentElement.parentElement;\n    const id = row.querySelector('#c_id').innerHTML;\n    // save name\n    Storage.updateConstructionName(id, name);\n}\n\n// EVENT History delete row\ndocument.querySelector('#history').addEventListener('click', e => {\n    // only delete if delete button clicked\n    if(e.target.innerHTML === 'delete'){\n        // get parent node (table row)\n        const row = Helpers.getClosest(e.target, 'tr');\n        // get construction id value\n        const id = row.querySelector('#c_id').innerHTML;\n        // delete from Storage\n        Storage.deleteConstruction(id);\n        // repopulate table\n        UI.populateHistory();\n     }\n})\n// EVENT: Expand history table\ndocument.querySelector('#expand-history').addEventListener('click', () => {\n    // toggle History div element height property\n    document.querySelector('#history-div').classList.toggle('constrain')\n    // toggle button text\n    const btn = document.querySelector('#expand-history');\n    const btnText = btn.querySelector('span');\n    const btnIcon = btn.querySelector('i');\n\n    if(btnText.textContent === \"Expand Table\"){\n        btnText.textContent = \"Collapse Table\";\n        btnIcon.classList.remove('fa-angle-down');\n        btnIcon.classList.add('fa-angle-up');\n    } else {\n        btnText.textContent = \"Expand Table\";\n        btnIcon.classList.remove('fa-angle-up');\n        btnIcon.classList.add('fa-angle-down');\n    }\n})\n\n// EVENT Export History Data\ndocument.querySelector('#export-history').addEventListener('click', () => {\n    Storage.exportConstructions();\n})\n\n// EVENT Import history data\ndocument.querySelector('#import-history').addEventListener('change', e => {\n    // flash alert that this will erase current hisory\n    const response = confirm(\"This will erase current history\");\n    if(response){\n        // Clear storage\n        Storage.clearConstructions();\n        // handle file and load into storage\n        Storage.importConstructionsFromFile(e.target.files);\n    }\n});\n\n// HELPERS\nclass _dev_helpers {\n    static test_data() {\n        // dummy data\n        const data = new Construction(['steel', 'wood', 'textile'], [6, 3, 8], [1.1, 2.5, 1.8]);\n        // draw\n        UI.populateInputTableFromConstruction(data);\n        document.dispatchEvent(event_calculate);\n        // add name\n        Storage.updateConstructionName(data._idToken, \"::example construction::\");\n        // reload storage\n        UI.populateHistory();\n        // make sortable\n        makeSortable();\n    }\n}\n\nfunction makeSortable(){\n    $(\".sortable\").sortable();\n}","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./app.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Construction Class: model to represent the 'construction' built from inputs\nexport default class Construction {\n    constructor(materials, thicknesses, k_vals){\n        this.materials = materials;\n        this.thicknesses = thicknesses.map(Number);\n        this.k_vals = k_vals;\n        this.r_vals = Construction.layerRValues(thicknesses, k_vals);\n        this.r_value = Construction.calcRValue(thicknesses, k_vals);\n        this.thickness = thicknesses.reduce((acc, val) => { return acc + Number(val) }, 0)\n        this._idToken = Construction.makeIDToken(materials, thicknesses, k_vals);\n    }\n\n    set name(n){\n        this._name = n;\n    }\n\n    get name(){\n        return this._name;\n    }\n\n    get u_value() {\n        return 1/this.r_value;\n    };\n\n    static u_value(construction) {\n        return 1/construction.r_value;\n    }\n\n    static calcRValue(thicknesses, k_vals){\n        let r_val = 0;\n        thicknesses.forEach((thickness, idx) => {\n            // if layer is air layer, calculate airlayerR  (air layer is assigned k_val of \"\" when created)\n            if(k_vals[idx]===\"\"){\n                r_val += Construction.airlayerResistance(thickness);\n            } else {\n                r_val += 0.001*thickness/k_vals[idx];\n                //console.log(`d: ${thickness}, k: ${k_vals[idx]}`);\n            }\n        })\n        return r_val;\n    }\n\n    // this doen't work in constructor, cant seem to access this.r_vals\n    static totalRValue(r_vals){\n        return r_vals.reduce((acc, curr) => { acc + curr }, 0)\n    }\n\n    static layerRValues(thicknesses, k_vals){\n        let r_vals = []\n        thicknesses.forEach((thickness, idx) => {\n            // if layer is air layer, calculate airlayerR (air layer is assigned k_val of \"\" when created)\n            if(k_vals[idx]===\"\"){\n                r_vals.push(Construction.airlayerResistance(thickness));\n            } else {\n            // else push r_val\n                r_vals.push(0.001*thickness/k_vals[idx]);\n            }\n        });\n        return r_vals\n    }\n\n    static makeIDToken(materials, thicknesses, k_vals) {\n        const holding = []\n        materials.forEach((material, idx) => {\n            holding.push({ \"m\": material, \"d\": [thicknesses[idx], k_vals[idx]] })\n        })\n        // sort\n        holding.sort(function(a, b){\n            const nameA = a.m.toUpperCase(); // ignore upper and lowercase\n            const nameB = b.m.toUpperCase(); // ignore upper and lowercase\n            if (nameA < nameB) {\n                return -1;\n            }\n            if (nameA > nameB) {\n                return 1;\n            }\n            // names must be equal\n            return 0;\n        });\n        // join\n        const output = []\n        holding.forEach(layer => {\n            output.push([layer.m, layer.d.join(\"_\")].join(\"_\"))\n        });\n        return output.join(\"-\")\n    }\n\n    // Calculate air layer thermal resistance (horizontal) for unventilated layer as per BS-ISO6946\n    // d needs to be validated b/w 0->300 before being passed to this function.\n    static airlayerResistance(d) {\n        const thickness = [0, 5, 7, 10, 15, 25, 300.1],\n              r = [0, 0.11, 0.13, 0.15, 0.17, 0.18, 0.18];\n        \n        const interpolateR = (d) => {\n            // find d position upper limit in thickness array\n            const idx = thickness.findIndex(function(item){ return item > d })\n            // interpolate\n            return r[idx-1] + (r[idx]-r[idx-1])*((d-thickness[idx-1])/(thickness[idx]-thickness[idx-1]))\n        }\n\n        return interpolateR(d)\n    }\n}","export default class Helpers {\n    static doesTableHaveFormData(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows (backward just because)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if material [1], thickness [2], or k [3] have value, return success\n            if(cells[1].children[0].value != '' || cells[2].children[0].value != '' || cells[3].children[0].value != ''){\n                return true;\n            }\n        }\n        // if no data found\n        return false;\n    }\n    \n    // check all rows have three input cells filled\n    static validateTableFormComplete(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows bottom to top (b/c we will be removing as we go)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if layer is air layer, skip k value validation\n            if(table_rows[i].classList.contains(\"cavity\")){\n                // if material [1], thickness [2] are empty, return 'not-valid' row.\n                if(cells[1].children[0].value === '' || cells[2].children[0].value === ''){\n                    return false;\n                }\n            } else {\n                // if material [1], thickness [2], or k [3] are empty, return 'not-valid' row.\n                if(cells[1].children[0].value === '' || cells[2].children[0].value === '' || cells[3].children[0].value === ''){\n                    return false;\n                }\n            }\n        }\n        return true;  \n    }\n\n    // check data in input rows is the right format\n    static validateTableFormNumberInput(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows (backward just because)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n\n            // if layer is air layer, skip k value validation\n            if(table_rows[i].classList.contains(\"cavity\")) {\n                // if thickness [2]cannot be cast to number, fail\n                if(!Number(cells[2].children[0].value)){\n                    return false;\n                } else if(cells[2].children[0].value < 0 || cells[2].children[0].value > 300) {\n                    // too thick for air cavity - other calculation methods are required\n                    // beyond the scope of this site.\n                    return false;\n                }\n            } else {\n                // if thickness [2], and k [3] cannot be cast to number, fail\n                if(!Number(cells[2].children[0].value) || !Number(cells[3].children[0].value)){\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    // check that air layer rows are bounded by material rows\n    static isAirLayerBounded(table) {\n        // get table rows\n        const table_rows = table.rows;\n        // loop through and check for air layers at edges or adjacent\n        let bounded = true;\n        for(let idx = 0; idx < table_rows.length; idx++) {\n            const row = table_rows[idx]\n            // if last or first table row is air layer, then it is not bounded\n            if(idx===0 && row.classList.contains(\"cavity\")) {\n                bounded = false\n            } else if(idx === table_rows.length-1 && row.classList.contains(\"cavity\")) {\n                bounded = false\n            } else if(row.classList.contains(\"cavity\")){\n                // if air cavity (not start or end), if next row is cavity, not bounded\n                if(table_rows[idx+1].classList.contains(\"cavity\")){\n                    bounded = false\n                }\n            }\n        }\n        return bounded\n\n    }\n\n    static removeEmptyTableRows(table) {\n        // get table rows\n        const table_rows = table.rows;\n        \n        // loop through rows bottom to top (b/c we will be removing as we go)\n        for(let i = table_rows.length-1; i >= 0; i--){\n            \n            // get all cells for row\n            let cells = table_rows[i].cells;\n            \n            // if material [1], thickness [2], and k [3] are empty, delete row.\n            if(cells[1].children[0].value === '' && cells[2].children[0].value === '' && cells[3].children[0].value === ''){\n                UI.deleteRow(table_rows[i]);\n            }\n        }    \n    }\n\n    static extractLayerInfoFromTable(table){\n        // get table rows\n        const table_rows = table.rows;\n\n        // Initialise output arrays\n        let materials = [];\n        let thicknesses = [];\n        let k_vals = [];\n\n        // Loop through rows and save data\n        for(let i=0; i < table_rows.length; i++){\n            materials.push(table_rows[i].cells[1].children[0].value);\n            thicknesses.push(table_rows[i].cells[2].children[0].value);\n            k_vals.push(table_rows[i].cells[3].children[0].value);\n        };\n\n        return [materials, thicknesses, k_vals]\n    }\n\n    static fitToParentContainer(el) {\n        const parent = el.parentNode;\n        el.height = parent.clientHeight;\n        el.width = parent.clientWidth;\n    }\n\n    static getPlotTemps() {\n        const output = []\n        output.push(Number(document.querySelector(\"#temp-outside\").value))\n        output.push(Number(document.querySelector(\"#temp-inside\").value))\n        return output\n    }\n\n    static formatNumberLength(number, length) {\n        // if number is blank string, return early\n        if(number===\"\"){ return \"\" }\n        // get integer part\n        const integer = number.toFixed(0);\n        // if 0, then number is decimal and we want fixed length-1\n        if(integer===\"0\"){\n            return number.toFixed(length-1);\n        } else {\n            // can just use to precision\n            return number.toPrecision(length);\n        }\n    }\n\n    static precise(x, p = 4){\n        return Number.parseFloat(x).toPrecision(p)\n    }\n    static fixed(x, p = 2){\n        return Number.parseFloat(x).toFixed(p)\n    }\n\n    // jQuery method in Vanilla JS\n    static getClosest( elem, selector ) {\n\n        // Element.matches() polyfill\n        if (!Element.prototype.matches) {\n            Element.prototype.matches =\n                Element.prototype.matchesSelector ||\n                Element.prototype.mozMatchesSelector ||\n                Element.prototype.msMatchesSelector ||\n                Element.prototype.oMatchesSelector ||\n                Element.prototype.webkitMatchesSelector ||\n                function(s) {\n                    const matches = (this.document || this.ownerDocument).querySelectorAll(s),\n                        i = matches.length;\n                    while (--i >= 0 && matches.item(i) !== this) {}\n                    return i > -1;\n                };\n        }\n\n        // Get closest match\n        for ( ; elem && elem !== document; elem = elem.parentNode ) {\n            if ( elem.matches( selector ) ) return elem;\n        }\n\n        return null;\n\n    };\n\n}\n","import Construction from \"./Construction.js\";\nimport UI from \"./UI.js\";\n\n// Storage Class: Control browser storage\nexport default class Storage {\n    // Load Storage\n    static getConstructions() {\n        let constructions;\n        if(localStorage.getItem('constructions') === null) {\n            constructions = [];\n        } else {\n            constructions = JSON.parse(localStorage.getItem('constructions'))\n        }\n        return constructions;\n    }\n\n    // get construction by id\n    static getConstructionByID(id) {\n        const constructions = Storage.getConstructions();\n        for (let construction of constructions) {\n            if(construction._idToken == id){\n                return construction\n            }\n        }\n        console.log('Construction not found in local storage. Abort.')\n        return false\n    }\n\n    // Update item in storage\n    static updateConstructionName(id, name) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // find construction to update\n        constructions.forEach((entry, idx) => {\n            if(entry._idToken === id){\n                // update name parameter\n                constructions[idx].name = name;\n            }\n        });\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Add to storage\n    static addConstruction(construction) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // check if exists\n        const newCons = constructions.every((entry) => {\n            if(entry._idToken === construction._idToken){\n                console.log('duplicate! save aborted')\n                return false;\n            }\n            return true;\n        });\n        if(!newCons){ return }\n\n        // add construction\n        constructions.push(construction);\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Delete from Storage\n    static deleteConstruction(id) {\n        // get constructions from storage\n        const constructions = Storage.getConstructions();\n        // find construction to delete\n        for(let i = 0; i < constructions.length; i++){\n            if(constructions[i]._idToken === id){\n                // delete\n                constructions.splice(i, 1);\n                break;\n            }\n        }\n        // save back to storage\n        localStorage.setItem('constructions', JSON.stringify(constructions));\n    }\n\n    // Clear storage\n    static clearConstructions() {\n        localStorage.removeItem('constructions');\n    }\n\n    // convert storage into csv file\n    static JSONtoCSV(){\n        // get constructions\n        const constructions = Storage.getConstructions();\n        // csv headers\n        const csvHeaders = ['id', 'name', 'material', 'thickness', 'k-val', 'r-val', 'total-r'];\n        // make csv content\n        const csvBody = [];\n        constructions.forEach((c, c_idx) => {\n            // create new row per material layer\n            c.materials.forEach((m, idx) => {\n                csvBody.push([\n                    c_idx,\n                    c.name,\n                    m,\n                    c.thicknesses[idx],\n                    c.k_vals[idx],\n                    c.r_vals[idx],\n                    c.r_value\n                ]);\n            });\n        });\n        // insert csv headers at start of data\n        csvBody.unshift(csvHeaders)\n        // join into csv string\n        return csvBody.join(\"\\n\")\n    }\n    \n    // convert CSV to Constructions\n    static CSVtoConstruction(csv_data){\n        // convert to list per row\n        const data = csv_data.split('\\n');\n        // remove header\n        data.shift();\n        // results containers\n        let materials = [], thicknesses = [], k_vals = [];\n        // current construction id (for processing layers)\n        let c_id, name;\n        // loop through each row, extract info for a construction and create\n        data.forEach((row, idx) => {\n            // split row into element\n            const layer = row.split(',');\n            // validate number of columns [id, name, mat, d, k]\n            if(layer.length < 5){ return }\n            // set c_id, name on first iteration\n            if(idx==0){ c_id = layer[0]; name = layer[1] }\n            // if construction id does not == previous, save existing construction, reset and start new construction\n            if(layer[0] != c_id){\n                // create & save construction\n                saveConstruction(materials, thicknesses, k_vals, name);\n                // reset variables\n                materials = [];\n                thicknesses = [];\n                k_vals = [];\n                // set new c_id, name\n                c_id = layer[0];\n                name = layer[1];\n            }\n\n            // process layer\n            materials.push(layer[2]);\n            thicknesses.push(layer[3]);\n            k_vals.push(layer[4]);\n\n        })\n        // create final construction\n        saveConstruction(materials, thicknesses, k_vals, name);\n\n        // Helper\n        function saveConstruction(m, t, k, n){\n            const c = new Construction(m, t, k);\n            // save construction\n            Storage.addConstruction(c);\n            console.log(n);\n            Storage.updateConstructionName(c._idToken, n)\n\n        }\n    }\n\n\n    // export to csv\n    static exportConstructions(){\n        // convert stored constructions to csv-like format\n        const csv = Storage.JSONtoCSV();\n        // set params via a 'hidden' element\n        const hiddenElement = document.createElement('a');\n        hiddenElement.href = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(csv);\n        hiddenElement.target = '_blank';\n        hiddenElement.download = 'constructions.csv'\n        hiddenElement.click();\n    }\n\n    // import from csv\n    static async importConstructionsFromFile(fileList){\n        // upload button is restricted to one-file.\n        // get file element\n        const file = fileList[0];\n        // read file element\n        const reader = new FileReader();\n        reader.readAsText(file);\n        // event on read (b/c async we just can't call this sequentially)\n        reader.onload = function() {\n            Storage.CSVtoConstruction(reader.result)\n        }\n        reader.onloadend = function() {\n            UI.populateHistory();\n        }\n        reader.onerror = function() {\n            alert(\"read failed. check console for details\")\n            console.log(reader.error)\n        }\n    }\n}","import UI from './UI.js';\nimport Helpers from './Helpers.js';\n\n// Therm Class: Calculation and rendering methods\nexport default class Therm {\n\n    static drawLayers(construction) {\n        // process data (add air layers, convert to Chart.js format)\n        const dataset = Therm.get_dataset(construction);\n\n        // get canvas\n        const canvas = document.querySelector('#canvas-construction');\n        // set context\n        const ctx = canvas.getContext(\"2d\");\n\n        // draw\n        const myChart = new Chart(ctx, {\n            type: 'horizontalBar',\n            data: {\n                labels: [\"construction\"],\n                datasets: dataset\n                //borderColor: 'rgb(255, 99, 132)'\n            },\n            options: {\n                legend: {\n                    display: true,\n                    onClick: null,\n                    labels: {\n                        filter: function(item, chart) {\n                            let state = true;\n                            // check if cavity\n                            if(item.text===\"== unventilated cavity ==\"){\n                                // Logic to remove air cavity label if another exists\n                                // get legend items\n                                const labels = chart['datasets']\n                                // loop through items\n                                for(let i=0; i<labels.length-1;i++){\n                                    //get first item that is cavity, then check if it is same index as current legend item\n                                    if(labels[i].label===\"== unventilated cavity ==\"){\n                                        // if it is same item, keep item and break the filter loop\n                                        if(i === item.datasetIndex){\n                                            break;\n                                        } else {\n                                            // if it is not same item, then this is a duplicate lengend entry and should be removed\n                                            state = false;\n                                            break;\n                                        }\n                                    }\n                                }\n                                //for(let i =)\n                            } else {\n                                // Logic to remove a particular legend item goes here\n                                const items = ['air (ext.)', 'air (int.)'];\n                                if(items.some(el => item.text.includes(el))){ state = false }\n                            }\n                            \n                            \n                            return state;\n                        }\n                    }\n                },\n                scales: {\n                    yAxes: [{\n                        categoryPercentage: 1.0,\n                        barPercentage: 1.0,\n                        position: 'right'\n                    }],\n                    xAxes: [{\n                        scaleLabel: {display: true, labelString: 'thickness'},\n                        ticks: {\n                            stepSize: 1.0,\n                            maxRotation: 0,\n                            callback: function(value, index, values){\n                                const n = values.length;\n                                if(n <= 25){\n                                    return value\n                                } else if(n > 25 && n <= 50){\n                                    if( index % 2 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 50 && n <= 75){\n                                    if( index % 2 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 75 && n <= 100){\n                                    if( index % 3 == 0 ){\n                                        return value\n                                    }\n                                } else if(n > 100 && n <= 125){\n                                    if( index % 5 == 0 ){\n                                        return value\n                                    }\n                                } else {\n                                    if( index % 10 == 0 ){\n                                        return value\n                                    }\n                                }\n                            }\n                        },\n                        afterBuildTicks: function(axis, ticks){\n                            // filter ticks so that only ticks around construction are shown\n                            return ticks.filter((val, idx, arr) => {\n                                // get construction thickness\n                                const limit = construction.thickness\n                                return val >= 0 && val <= limit;\n                            })\n                        }\n                    }]\n                },\n                tooltips: {\n                    mode: 'nearest',\n                    callbacks: {\n                        title: function(tooltipItem, data) {\n                            let label = tooltipItem[0].label;\n                            if(label === \"construction\"){\n                                // get title of data\n                                let label = data.datasets[tooltipItem[0].datasetIndex].label\n                                // if surface resistance or air boundary, just show name\n                                if(Therm.supportingLayerNames().includes(label)){\n                                    return label\n                                } else {\n                                    return \"construction\"\n                                }\n                            } else {\n                                return \"temperature\"\n                            }\n                        },\n                        label: function(tooltipItem, data) {\n                            // if construction show thickness with mm\n                            if(tooltipItem.label === \"construction\"){\n                                let label = data.datasets[tooltipItem.datasetIndex].label;\n                                // if surface resistance show nothing\n                                if(Therm.supportingLayerNames(\"surface\").includes(label)){\n                                    return\n                                //if air boundary, show temperature\n                                } else if(Therm.supportingLayerNames(\"air\").includes(label)) {\n                                    if(tooltipItem.value < 0){\n                                        // temp is always first dataset\n                                        // left side air layer, get left side temp value\n                                        return `${data.datasets[0].data[0].y} ${String.fromCharCode(176)}C`\n                                    } else {\n                                        // right side air layer, get right side temp value\n                                        return `${data.datasets[0].data[data.datasets[0].data.length-1].y} ${String.fromCharCode(176)}C`\n                                    }\n                                } else {\n                                    // material. Show thickness AND layer r-val AND x-val\n                                    let layer_idx = construction.materials.indexOf(label);\n                                    let x_pos = (construction.thicknesses.slice(0,layer_idx+1)).reduce((a, b) => a + b, 0);\n                                    return [\n                                        `${label}: ${tooltipItem.value} mm`, \n                                        `R: ${Helpers.precise(construction.r_vals[layer_idx], 3)}`,\n                                        `x = ${Helpers.fixed(x_pos)} mm`\n                                    ]\n                                }\n                            } else {\n                                // Temperature Point\n                                // show temp with degC and x (x if not endpoint)\n                                const tempDataLength = data.datasets[tooltipItem.datasetIndex].data.length;\n                                const tooltip = [`${Helpers.fixed(tooltipItem.value)} ${String.fromCharCode(176)}C`]\n                                // if not endpoint, include x-value\n                                if(tooltipItem.index != 0 && tooltipItem.index != tempDataLength-1) {\n                                    tooltip.push(`x = ${Helpers.fixed(tooltipItem.xLabel)} mm`)\n                                }\n                                return tooltip\n                            }\n                        }\n                    },\n                },\n                responsive: false\n            }\n        });\n\n        return myChart\n    }\n\n    static clearCharts() {\n        Chart.helpers.each(Chart.instances, instance => {\n            instance.chart.destroy();\n        })\n    }\n\n    static drawTemperatures(construction, chart, t_o = 35, t_i = 24) {\n        // insert first so drawn ontop of bar chart\n        chart.data.datasets.unshift({\n            label: \"temperature\",\n            data: Therm.calculateIntermediateTemps(construction, chart, t_o, t_i),\n            type: 'line',\n            yAxisID: 'y-line',\n            lineTension: 0,\n            borderWidth: 1,\n            borderColor: '#f00',\n            pointStyle: 'circle',\n            pointBorderColor: '#f00',\n            pointBackgroundColor: '#f00',\n            backgroundColor: 'rgba(0, 0, 0, 0.0)'\n        });\n        chart.options.scales.yAxes.push({\n            id: 'y-line',\n            type: 'linear',\n            position: 'left',\n            ticks: {\n                min: 2*Math.round((Math.min(t_o,t_i)-2)/2),\n                max: 2*Math.round((Math.max(t_o,t_i)+2)/2)\n            },            \n            scaleLabel: {\n                labelString: \"Temperature\",\n                display: true,\n                fontColor: '#f00'\n            }\n        });\n        chart.update();\n    }\n\n    static calculateQ_area(construction, t_o, t_i) {\n        // Q/A = UdT [W/m2]\n        return construction.u_value * (t_o - t_i)\n    }\n\n    // calculate temperatures between layers in construction\n    static calculateIntermediateTemps(construction, chart, t_o, t_i) {\n        // Get heat transfer rate for construction\n        const Q_area = Therm.calculateQ_area(construction, t_o, t_i);\n        // get x-axis range\n        const xMin = chart.scales['x-axis-0'].min;\n        const xMax = chart.scales['x-axis-0'].max;\n        // intialise first temps in output array (external temperature)\n        const temps = [{x: 0, y: t_o}]\n        // loop through r vals, calculate temps external to internal\n        construction.r_vals.forEach((r_val, idx) => {\n            // get intermediate temp based on temp to left\n            let t_n = temps[idx]['y'] - (Q_area / (1 / r_val));\n            temps.push({x: temps[idx]['x']+construction.thicknesses[idx], y: t_n})\n        })\n        // push end points\n        temps.unshift({x: xMin, y:t_o})\n        temps.push({x: xMax, y: t_i})\n        return temps\n    }\n\n    static get_dataset(data) {\n        // define external and internal air layers\n        const ext_air = {label: 'air (ext.)', data: [-20], backgroundColor: 'rgba(0,0,0,0)', stack: \"main\"}\n        const int_air = {label: 'air (int.)', data: [20], backgroundColor: 'rgba(0,0,0,0)', stack: \"main\"}\n        // define output\n        const output = [];\n        // if surface resitance enabled\n        const surface = UI.surfaceResistanceEnabled()\n        if(surface){\n            // define surface layers\n            const r_ext = {label: 'R_surface (ext.)', data: [-0.05], backgroundColor: 'rgba(89, 241, 234, 1)', stack: \"main\"}\n            output.push(r_ext)\n        }\n        \n        // create output array, set first item as air external, second as ext surface resistance\n        output.push(ext_air);\n        data.materials.forEach((material, idx) => {\n            let d = {};\n\n            d.label = material;\n            d.data = [data.thicknesses[idx]];\n            //d.borderWidth = 2;\n            d.stack = \"main\";\n            // if air cavity make transperent\n            if(data.k_vals[idx]===\"\"){\n                d.backgroundColor = 'rgba(232, 246, 247, 0.4)';\n            } else {\n                // from randomColor library\n                d.backgroundColor = randomColor();\n            }\n            \n\n            output.push(d);\n        })\n        if(surface){\n            const r_int = {label: 'R_surface (int.)', data: [0.05], backgroundColor: 'rgba(89, 241, 234, 1)', stack: \"main\"}\n            output.push(r_int)\n        };\n        output.push(int_air);\n        return output;\n    }\n\n    static calcTotalR(construction, r_int, r_ext) {\n        return Number(construction.r_value) + r_int + r_ext;\n    }\n\n    static defaultCanvasImage(){\n        // get canvas\n        const canvas = document.querySelector('#canvas-construction');\n        // set context\n        const ctx = canvas.getContext('2d');\n        // get canvas height and width\n        const h = canvas.clientHeight;\n        const w = canvas.clientWidth;\n        // clear canvas content (if exists)\n        ctx.clearRect(0,0,w,h);\n        // set inlay offset\n        const offset = 5;\n        // draw rectangle\n        ctx.lineWidth = 0.3;\n        ctx.strokeRect(offset, offset, w-offset*2, h-offset*2);\n        // draw message\n        ctx.font = \"18px Lato\";\n        ctx.textAlign = \"center\";\n        ctx.fillStyle = \"gray\";\n        if(window.innerWidth <= 768){\n            ctx.fillText(\"to draw a construction enter material details\", w/2, h/2 - 18/2);\n            ctx.fillText(\"in the input table or select from history below\", w/2, h/2 + 18/2);\n        }else{\n            ctx.fillText(\"to draw a construction enter material details in the input table or select from history below\", w/2, h/2);\n        }\n    }\n\n    \n\n    // HELPERS\n    static supportingLayerNames(category = \"all\") {\n        let names = ['R_surface (ext.)', 'R_surface (int.)', 'air (int.)', 'air (ext.)'];\n        switch(category) {\n            case \"all\":\n                return names\n            case \"surface\":\n                return names.slice(0,2)\n            case \"air\":\n                return names.slice(2,4)\n        }\n    }\n}","import Storage from \"./Storage.js\";\nimport Therm from \"./Therm.js\";\nimport Construction from \"./Construction.js\";\n\n// UI Class: Control on-screen rendering (except Canvas)\nexport default class UI {\n    static modifyRowController(el) {\n        if(el.classList.contains('delete-row')){\n            console.log('Delete row!')\n            UI.deleteRow(el)\n        } else if(el.classList.contains('add-row')){\n            console.log('Add row above!')\n            UI.addRowAbove(el)\n        }\n    }\n\n    static addRowAbove(row) {\n        // Get index of row in table\n        const idx = row.closest('tr').rowIndex;\n        // Get table element\n        const table = row.closest('table');\n        // Insert row into table at index\n        const newRow = table.insertRow(idx);\n        // Fill row with styled table row html\n        newRow.innerHTML = UI.rowInnerHTML();\n\n    }\n\n    static deleteRow(cell) {\n        // Find row cell belongs too and remove row\n        cell.closest('tr').remove();\n    }\n\n    static addToInputLayers(table_body, rowtype=\"material\") {\n        const row = document.createElement('tr');\n        let new_row;\n        if(rowtype===\"cavity\"){\n            row.classList.add(\"cavity\");\n            row.innerHTML = UI.cavityRowInnerHTML();\n        } else {\n            row.innerHTML = UI.rowInnerHTML();\n        }\n        //append to table, return handle\n        new_row = table_body.appendChild(row);\n        return new_row\n    }\n\n    static clearTableBody(table) {\n        // // returns handle to new table body\n        // remove body\n        table.querySelector('tbody').remove();\n        // add new body\n        const body = document.createElement('tbody');\n        body.classList.add('sortable');\n        const tableBody = table.appendChild(body);\n        \n        return tableBody\n    }\n\n    static populateHistory() {\n        // get history table handle\n        const historyTable = document.querySelector('#history');\n        // clear table\n        const tableBody = UI.clearTableBody(historyTable);\n        // get local storage data\n        const constructions = Storage.getConstructions();\n\n        // repopulate\n        constructions.forEach((construction) => {\n            UI.addToHistory(construction, tableBody);\n        })\n    }\n\n    static addToHistory(construction, table) {\n        // create new row element\n        const row = document.createElement('tr');\n        \n        // fill row\n        row.innerHTML = `\n            <th scope=\"row\"><input type=\"text\" placeholder=\"add name here...\" class=\"form-control-plaintext font-weight-bold\" value=\"${construction.name || ''}\"></th>\n            <td>${UI.badgeFormatter({list: construction.materials, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.thicknesses, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.k_vals, class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: construction.r_vals.map(val => { return Helpers.formatNumberLength(val, 5)}), class_options: 'mb-1 text-large'})}</td>\n            <td>${UI.badgeFormatter({list: [Helpers.formatNumberLength(Construction.u_value(construction), 5)], style: 'warning', class_options: 'text-large'})}</td>\n            <td>${UI.badgeFormatter({list: [Helpers.formatNumberLength(construction.r_value, 5)], style: 'warning', class_options: 'text-large'})}</td>\n            <td class=\"align-middle text-center text-danger\">delete</td>\n            <td class=\"d-none\" id=\"c_id\">${construction._idToken}</td>`;\n        \n        // append row to table\n        table.appendChild(row);\n    }\n\n    static populateInputTableFromConstruction(construction){\n        const table = document.querySelector('#input-layers');\n        const tableBody = UI.clearTableBody(table);\n        // for each construction layer, add row and populate\n        construction.materials.forEach((material, idx) => {\n            const data = [material, construction.thicknesses[idx], construction.k_vals[idx]];\n            // check for row type: material or air layer\n            let rowtype;\n            if(data[2] === \"\"){\n                rowtype = \"cavity\"\n            } else {\n                rowtype = \"material\"\n            }\n            const new_row = UI.addToInputLayers(tableBody, rowtype);\n            const fields = new_row.querySelectorAll('input');\n            fields.forEach((field, idx) => {\n                field.value = data[idx];\n            });\n        })\n    }\n\n    static displayConstructionResults(construction) {\n        // set display digit length\n        const numDigits = 5;\n\n        const r = document.querySelector(\"#r-construction\");\n        const u = document.querySelector(\"#u-construction\");\n        r.value = Helpers.formatNumberLength(construction.r_value, numDigits);\n        u.value = Helpers.formatNumberLength(construction.u_value, numDigits);\n        \n        const r_t = document.querySelector(\"#r-total\");\n        const u_t = document.querySelector(\"#u-total\");\n        if(UI.surfaceResistanceEnabled()){\n            const r_surface = UI.getSurfaceResistance();\n            const r_total = Therm.calcTotalR(construction, ...r_surface);\n            r_t.value = Helpers.formatNumberLength(r_total, numDigits);\n            u_t.value = Helpers.formatNumberLength((1/r_total), numDigits);\n        } else {\n            r_t.value = Helpers.formatNumberLength(construction.r_value, numDigits);\n            u_t.value = Helpers.formatNumberLength(construction.u_value, numDigits);\n        }\n    }\n\n    static clearConstructionResults() {\n        const r = document.querySelector(\"#r-construction\");\n        const u = document.querySelector(\"#u-construction\");\n        const r_t = document.querySelector(\"#r-total\");\n        const u_t = document.querySelector(\"#u-total\");\n\n        r.value = \"0.0\"\n        u.value = \"0.0\"\n        r_t.value = \"0.0\"\n        u_t.value = \"0.0\"\n    }\n\n    static getSurfaceResistance() {\n        const output  = [];\n        output.push(Number(document.querySelector(\"#r-external\").value));\n        output.push(Number(document.querySelector(\"#r-internal\").value));\n        return output\n    }\n\n    static surfaceResistanceEnabled() {\n        return document.querySelector('#customSwitch1').checked\n    }\n\n    // HELPERS\n    static rowInnerHTML() {\n        // Stores row HTML for new rows. Not sure where else to keep this?\n        const innerHTML = \n        `<td class=\"align-middle text-center\"><i class=\"fas fa-circle fa-xs text-primary\"></i></td>\n        <td><input type=\"text\" placeholder=\"material name\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" placeholder=\"depth\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" placeholder=\"k-val\" class=\"form-control-plaintext\"></td>\n        <td class=\"align-middle text-center\"><i class=\"far fa-plus-square fa-lg d-none row-ops add-row\"></i></td>\n        <td class=\"align-middle text-center\"><i class=\"fas fa-times fa-lg d-none row-ops text-danger delete-row\"></i></td>`;\n        return innerHTML\n    };\n\n    static cavityRowInnerHTML() {\n        const innerHTML =\n        `<td class=\"align-middle text-center\"><i class=\"fas fa-circle fa-xs text-primary\"></i></td>\n        <td><input type=\"text\" disabled value=\"== unventilated cavity ==\" class=\"form-control-plaintext font-italic\"></td>\n        <td><input type=\"text\" value=\"20\" class=\"form-control-plaintext\"></td>\n        <td><input type=\"text\" disabled value=\"\" class=\"form-control-plaintext text-secondary\"></td>\n        <td class=\"align-middle text-center\"><i class=\"far fa-plus-square fa-lg d-none row-ops add-row\"></i></td>\n        <td class=\"align-middle text-center\"><i class=\"fas fa-times fa-lg d-none row-ops text-danger delete-row\"></i></td>`;\n        return innerHTML\n    }\n\n    static badgeFormatter({list=[], style=false, class_options='', unit=''}={}){\n        let els = '';\n        list.forEach((item, idx) => {\n            if(style){\n                els = els.concat(`<div class=\"d-block\"><span class=\"badge badge-${style} ${class_options}\">${item} ${unit}</span></div>`)\n            } else {\n                els = els.concat(`<div class=\"d-block\"><span class=\"badge badge-${UI.colorList(idx)} ${class_options}\">${item} ${unit}</span></div>`)\n            }\n        });\n        return els \n    }\n\n    static colorList(idx){\n        const colors = ['primary', 'secondary', 'success', 'danger', 'info', 'light', 'dark'];\n        return colors[idx]\n    }\n};\n"],"sourceRoot":""}
>>>>>>> 55d0de1... Update App resize method to clear THERM charts before redraw
